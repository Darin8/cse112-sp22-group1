(()=>{"use strict";var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};function e(){let t=[],e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=e.length;for(let o=0;o<30;o++)t.push(e.charAt(Math.floor(Math.random()*n)));return t.join("")}t.d({},{zm:()=>Lt,BJ:()=>Bt,Fs:()=>kt,mx:()=>bt,CO:()=>vt,oT:()=>St,nv:()=>Tt,Lu:()=>At,Dh:()=>It,HQ:()=>xt});let n={},o={},s={},i=!1;function r(t,o,s,i,l){let a=new Date(o.getFullYear(),o.getMonth(),t);t>s?l([]):function(t,o,s,i,r,l){!function(t,o,s,i,r,l){t.get("0000",((a,c)=>{if(!a){let a=e(),d=[];for(Array.prototype.push.apply(d,c.dailyLogs),Array.prototype.push.apply(d,c.monthlyLogs),Array.prototype.push.apply(d,c.futureLogs),Array.prototype.push.apply(d,c.collections),Array.prototype.push.apply(d,c.trackers),Array.prototype.push.apply(d,c.textBlocks),Array.prototype.push.apply(d,c.tasks),Array.prototype.push.apply(d,c.events),Array.prototype.push.apply(d,c.signifiers),Array.prototype.push.apply(d,c.imageBlocks),Array.prototype.push.apply(d,c.audioBlocks);d.filter((t=>t.id===a)).length>0;)a=e();return n={id:a,objectType:"dailyLog",date:r,parent:o,content:s,trackers:i},c.dailyLogs.push(n),t.put({_id:"0000",_rev:c._rev,email:c.email,pwd:c.pwd,theme:c.theme,index:c.index,dailyLogs:c.dailyLogs,monthlyLogs:c.monthlyLogs,futureLogs:c.futureLogs,collections:c.collections,trackers:c.trackers,imageBlocks:c.imageBlocks,audioBlocks:c.audioBlocks,textBlocks:c.textBlocks,tasks:c.tasks,events:c.events,signifiers:c.signifiers}).then((t=>{console.log(t)})).catch((t=>{l(t,null)}))}l(a,null)})).then((t=>{t.ok&&l(null,n)}))}(m,t,[],[],i,((t,e)=>{l(t,e)}))}(i.id,0,0,a,0,((e,n)=>{null===e?r(t+1,o,s,i,(t=>{t.splice(0,0,{id:n.id,content:[],dailyLog:n.id}),l(t)})):console.log(e)}))}let l={};function a(t,n,o,c){let d=t,h=d.getTime()===l.startDate.getTime()?new Date(d.getFullYear(),d.getMonth(),d.getUTCDate()):new Date(d.getFullYear(),d.getMonth()+1,0);d.getMonth()===n.getMonth()&&(h=new Date(n.getFullYear(),n.getMonth(),n.getUTCDate())),function(t,n,o,l,a,c,d){!function(t,n,o,l,a,c,d){t.get("0000",((i,r)=>{if(!i){let i=e(),d=[];for(Array.prototype.push.apply(d,r.dailyLogs),Array.prototype.push.apply(d,r.monthlyLogs),Array.prototype.push.apply(d,r.futureLogs),Array.prototype.push.apply(d,r.collections),Array.prototype.push.apply(d,r.trackers),Array.prototype.push.apply(d,r.textBlocks),Array.prototype.push.apply(d,r.tasks),Array.prototype.push.apply(d,r.events),Array.prototype.push.apply(d,r.signifiers),Array.prototype.push.apply(d,r.imageBlocks),Array.prototype.push.apply(d,r.audioBlocks);d.filter((t=>t.id===i)).length>0;)i=e();return s={id:i,objectType:"monthlyLog",date:c,parent:n,content:o,days:l,trackers:a},r.monthlyLogs.push(s),t.put({_id:"0000",_rev:r._rev,email:r.email,pwd:r.pwd,theme:r.theme,index:r.index,dailyLogs:r.dailyLogs,monthlyLogs:r.monthlyLogs,futureLogs:r.futureLogs,collections:r.collections,trackers:r.trackers,imageBlocks:r.imageBlocks,audioBlocks:r.audioBlocks,textBlocks:r.textBlocks,tasks:r.tasks,events:r.events,signifiers:r.signifiers})}d(i,null)})).then((e=>{if(e.ok){let e=s.date.getDate()!==new Date(s.date.getFullYear(),s.date.getMonth()+1,0).getDate()&&i,n=new Date(s.date.getFullYear(),e?s.date.getMonth():s.date.getMonth()+1,e?s.date.getDate():0);console.log(n);let o=n.getDate(),l=1;i||(l=s.date.getDate(),i=!0),r(l,new Date(s.date),o,s,(e=>{s.days=e,t.get("0000",((e,n)=>{n.monthlyLogs[n.monthlyLogs.length-1]=s,t.put({_id:"0000",_rev:n._rev,email:n.email,pwd:n.pwd,theme:n.theme,index:n.index,dailyLogs:n.dailyLogs,monthlyLogs:n.monthlyLogs,futureLogs:n.futureLogs,collections:n.collections,trackers:n.trackers,imageBlocks:n.imageBlocks,audioBlocks:n.audioBlocks,textBlocks:n.textBlocks,tasks:n.tasks,events:n.events,signifiers:n.signifiers}).then((t=>{t.ok&&d(null,s)})).catch((t=>{d(t,null)}))}))}))}})).catch((t=>{d(t,null)}))}(m,t,[],[],[],a,((t,e)=>{d(t,e)}))}(o.id,0,0,0,h,0,((t,e)=>{if(null===t)if(d.getMonth()>n.getMonth())c([]);else{d.getDate()!==new Date(d.getFullYear(),d.getMonth()+1,0).getDate()&&(d=new Date(d.getFullYear(),d.getMonth()+1,0));let t=new Date(d);t.setMonth(d.getMonth()+1),d.getDate()!==t.getDate()?t.setDate(0):t.getDate()!==new Date(t.getFullYear(),t.getMonth()+1,0).getDate()&&(t=new Date(t.getFullYear(),t.getMonth()+1,0)),a(t,n,o,(t=>{t.splice(0,0,{id:e.id,content:[],monthlyLog:e.id}),c(t)}))}else console.log(t)}))}let c={},d={},h={};function p(t,e,n){console.log("deleteEvent"+e),t.get("0000",((o,s)=>{if(!o){let o=s.events.filter((t=>t.id===e)),i=null;o.length>0&&(i=o[0]),console.log(i);let r=[];Array.prototype.push.apply(r,s.textBlocks);let l=s.events.filter((t=>t.id!==e));return t.put({_id:"0000",_rev:s._rev,email:s.email,pwd:s.pwd,theme:s.theme,index:s.index,dailyLogs:s.dailyLogs,monthlyLogs:s.monthlyLogs,futureLogs:s.futureLogs,trackers:s.trackers,collections:s.collections,imageBlocks:s.imageBlocks,audioBlocks:s.audioBlocks,textBlocks:s.textBlocks,tasks:s.tasks,events:l,signifiers:s.signifiers},((t,e)=>{t?n(t):(console.log(e),n(null))}))}n(o)}))}function u(t,e,n){t.get("0000",((o,s)=>{if(!o){let o=s.tasks.filter((t=>t.id!==e));return t.put({_id:"0000",_rev:s._rev,email:s.email,pwd:s.pwd,theme:s.theme,index:s.index,dailyLogs:s.dailyLogs,monthlyLogs:s.monthlyLogs,futureLogs:s.futureLogs,trackers:s.trackers,collections:s.collections,imageBlocks:s.imageBlocks,audioBlocks:s.audioBlocks,textBlocks:s.textBlocks,tasks:o,events:s.events,signifiers:s.signifiers},((t,e)=>{t?n(t):(console.log(e),n(null))}))}n(o)}))}function g(t,e,n,o){v(((s,i)=>{if(null===s){let s=[];Array.prototype.push.apply(s,i.dailyLogs),Array.prototype.push.apply(s,i.monthlyLogs),Array.prototype.push.apply(s,i.futureLogs),Array.prototype.push.apply(s,i.trackers),Array.prototype.push.apply(s,i.collections);let r=s.filter((t=>t.id===e.parent))[0];if("dailyLog"===r.objectType){let t=r.content.filter((t=>t!==n));r.content=t}else if("monthlyLog"===r.objectType){for(let t=0;t<r.days.length;t++)if(r.days[t].content.includes(n)){let e=r.days[t].content.filter((t=>t!==n));r.days[t].content=e}}else if("futureLog"===r.objectType)for(let t=0;t<r.months.length;t++)if(r.months[t].content.includes(n)){let e=r.months[t].content.filter((t=>t!==n));r.months[t].content=e}let l=i.textBlocks.filter((t=>t.id!==n));return i.textBlocks=l,t.put({_id:"0000",_rev:i._rev,email:i.email,pwd:i.pwd,theme:i.theme,index:i.index,dailyLogs:i.dailyLogs,monthlyLogs:i.monthlyLogs,futureLogs:i.futureLogs,collections:i.collections,trackers:i.trackers,imageBlocks:i.imageBlocks,audioBlocks:i.audioBlocks,textBlocks:i.textBlocks,tasks:i.tasks,events:i.events,signifiers:i.signifiers}).then((t=>{console.log(t),o(null)})).catch((t=>{console.log(t),o(t)}))}console.log(s),o(s)}))}function y(t,e,n){v(((o,s)=>{if(null===o)return t.put({_id:"0000",_rev:s._rev,email:s.email,pwd:s.pwd,theme:s.theme,index:s.index,dailyLogs:s.dailyLogs,monthlyLogs:s.monthlyLogs,futureLogs:s.futureLogs,trackers:s.trackers,collections:s.collections,imageBlocks:s.imageBlocks,audioBlocks:s.audioBlocks,textBlocks:e,tasks:s.tasks,events:s.events,signifiers:s.signifiers},((t,e)=>{t?(console.log(t),n(t)):n(e)}));console.log(o),n(o)}))}let m=new PouchDB("Users");function f(){!function(t,e){console.trace(),t.get("0000",((t,e)=>{if(t)n=t,console.log(n);else try{console.log(e),fetch("https://boojo.bitfrost.app/api/updateUser",{headers:{"content-type":"application/json; charset=UTF-8",Origin:"https://boojo.bitfrost.app"},body:JSON.stringify(e),method:"POST"}).then((t=>t.json())).then((t=>{console.log(t)}))}catch(t){console.log(t.text)}var n}))}(m)}function b(t,n,s,i,r,l){!function(t,n,s,i,r,l){t.get("0000",((a,c)=>{if(!a){console.log(c);let a=e(),d=[];for(Array.prototype.push.apply(d,c.dailyLogs),Array.prototype.push.apply(d,c.monthlyLogs),Array.prototype.push.apply(d,c.futureLogs),Array.prototype.push.apply(d,c.collections),Array.prototype.push.apply(d,c.trackers),Array.prototype.push.apply(d,c.textBlocks),Array.prototype.push.apply(d,c.tasks),Array.prototype.push.apply(d,c.events),Array.prototype.push.apply(d,c.signifiers),Array.prototype.push.apply(d,c.imageBlocks),Array.prototype.push.apply(d,c.audioBlocks);d.filter((t=>t.id===a)).length>0;)a=e();return o={id:a,objectType:"event",title:n,parent:s,date:i,signifier:r},c.events.push(o),t.put({_id:"0000",_rev:c._rev,email:c.email,pwd:c.pwd,theme:c.theme,index:c.index,dailyLogs:c.dailyLogs,monthlyLogs:c.monthlyLogs,futureLogs:c.futureLogs,collections:c.collections,trackers:c.trackers,imageBlocks:c.imageBlocks,audioBlocks:c.audioBlocks,textBlocks:c.textBlocks,tasks:c.tasks,events:c.events,signifiers:c.signifiers}).then((t=>{console.log(t)})).catch((t=>{l(t,null)}))}l(a,null)})).then((t=>{t.ok&&l(null,o)}))}(m,t,n,s,i,((t,e)=>{r&&f(),l(t,e)}))}function k(t,n,o,s,i,r){!function(t,n,o,s,i,r){t.get("0000",((l,a)=>{if(!l){console.log(a);let l=e(),d=[];for(Array.prototype.push.apply(d,a.dailyLogs),Array.prototype.push.apply(d,a.monthlyLogs),Array.prototype.push.apply(d,a.futureLogs),Array.prototype.push.apply(d,a.collections),Array.prototype.push.apply(d,a.trackers),Array.prototype.push.apply(d,a.textBlocks),Array.prototype.push.apply(d,a.tasks),Array.prototype.push.apply(d,a.events),Array.prototype.push.apply(d,a.signifiers),Array.prototype.push.apply(d,a.imageBlocks),Array.prototype.push.apply(d,a.audioBlocks);d.filter((t=>t.id===l)).length>0;)l=e();return c={id:l,objectType:"task",parent:n,text:o,complete:s,signifier:i},a.tasks.push(c),t.put({_id:"0000",_rev:a._rev,email:a.email,pwd:a.pwd,theme:a.theme,index:a.index,dailyLogs:a.dailyLogs,monthlyLogs:a.monthlyLogs,futureLogs:a.futureLogs,collections:a.collections,trackers:a.trackers,imageBlocks:a.imageBlocks,audioBlocks:a.audioBlocks,textBlocks:a.textBlocks,tasks:a.tasks,events:a.events,signifiers:a.signifiers}).then((t=>{console.log(t)})).catch((t=>{console.log(t),r(t,null)}))}r(l,null)})).then((t=>{console.log(t),r(null,c)}))}(m,t,n,o,s,((t,e)=>{i&&f(),r(t,e)}))}function x(t,n,o,s,i){!function(t,n,o,s,i){console.log("making tracjer"),t.get("0000",((r,l)=>{if(!r){let r=e(),a=[];for(Array.prototype.push.apply(a,l.dailyLogs),Array.prototype.push.apply(a,l.monthlyLogs),Array.prototype.push.apply(a,l.futureLogs),Array.prototype.push.apply(a,l.collections),Array.prototype.push.apply(a,l.trackers),Array.prototype.push.apply(a,l.textBlocks),Array.prototype.push.apply(a,l.tasks),Array.prototype.push.apply(a,l.events),Array.prototype.push.apply(a,l.signifiers),Array.prototype.push.apply(a,l.imageBlocks),Array.prototype.push.apply(a,l.audioBlocks);a.filter((t=>t.id===r)).length>0;)r=e();h={id:r,objectType:"tracker",title:n,content:o,parent:s},console.log(a),console.log(s);let c=a.filter((t=>t.id===s));return console.log(c),c[0].trackers.push(h.id),l.trackers.push(h),t.put({_id:"0000",_rev:l._rev,email:l.email,pwd:l.pwd,theme:l.theme,index:l.index,dailyLogs:l.dailyLogs,monthlyLogs:l.monthlyLogs,futureLogs:l.futureLogs,collections:l.collections,trackers:l.trackers,imageBlocks:l.imageBlocks,audioBlocks:l.audioBlocks,textBlocks:l.textBlocks,tasks:l.tasks,events:l.events,signifiers:l.signifiers}).then((t=>{console.log(t)})).catch((t=>{console.log(t),i(t,null)}))}i(r,null)})).then((t=>{console.log(t),console.log(h),i(null,h)}))}(m,t,n,o,((t,e)=>{s&&f(),i(t,e)}))}function v(t){!function(t,e){t.get("0000",((t,n)=>{t?e(t,null):e(null,n)}))}(m,((e,n)=>{t(e,n)}))}function L(t,e,n){p(m,t.id,(t=>{e&&f(),n(t)}))}function w(t,e,n){p(m,t,(t=>{e&&f(),n(t)}))}function B(t,e,n){u(m,t.id,(t=>{e&&f(),n(t)}))}function A(t,e,n){u(m,t,(t=>{e&&f(),n(t)}))}function T(t,e,n){!function(t,e,n){console.log(e),t.get("0000",((o,s)=>{if(!o){let o=s.events.filter((t=>t.id!==e.id));return o.push(e),t.put({_id:"0000",_rev:s._rev,email:s.email,pwd:s.pwd,theme:s.theme,index:s.index,dailyLogs:s.dailyLogs,monthlyLogs:s.monthlyLogs,futureLogs:s.futureLogs,trackers:s.trackers,collections:s.collections,imageBlocks:s.imageBlocks,audioBlocks:s.audioBlocks,textBlocks:s.textBlocks,tasks:s.tasks,events:o,signifiers:s.signifiers},((t,e)=>{t?(console.log(t),n(t)):n(e)}))}n(o)}))}(m,t,(t=>{e&&f(),n(t)}))}function I(t,e,n){!function(t,e,n){console.log("task when calling update task",e),t.get("0000",((o,s)=>{if(!o){let o=s.tasks.filter((t=>t.id!==e.id));return o.push(e),console.log("taskArr is, ",o),t.put({_id:"0000",_rev:s._rev,email:s.email,pwd:s.pwd,theme:s.theme,index:s.index,dailyLogs:s.dailyLogs,monthlyLogs:s.monthlyLogs,futureLogs:s.futureLogs,trackers:s.trackers,collections:s.collections,imageBlocks:s.imageBlocks,audioBlocks:s.audioBlocks,textBlocks:s.textBlocks,tasks:o,events:s.events,signifiers:s.signifiers},((t,e)=>{n(t||e)}))}n(o)}))}(m,t,(t=>{e&&f(),n(t)}))}let S=document.createElement("template");S.innerHTML='\n\t<style>\n\t\t@font-face {\n\t\t\tfont-family:"SF-Pro";\n\t\t\tsrc: url("./public/fonts/SF-Pro.ttf");\n\t\t}\n\t\t#textBlock {\n\t\t\tfont-family: "SF-Pro";\n\t\t\tborder: none;\n\t\t\toverflow: auto;\n\t\t\toutline: none;\n\t\t\tresize: none;\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t#textBlock:empty::before{\n\t\t\tcontent: attr(placeholder);\n\t\t\tcolor: gray;\n\t\t}\n\n\t\t.unstylized{\n\t\t\tmargin: 7px 0 12px;\n\t\t\tfont-size: 18px;\n\t\t\tline-height: 28px;\n\t\t\twidth: calc(100% - 44px);\n\t\t}\n\n\t\t#editorIcons{\n\t\t\tposition: relative;\n\t\t\tdisplay: inline;\n\t\t\tvertical-align: top;\n\t\t}\n\t\t\n\t\t#editorIcons img{\n\t\t\tmargin-right: 7px;\n\t\t\theight: 15px;\n\t\t\tcursor: pointer;\n\t\t\tfilter: var(--icon-filter);\n\t\t}\n\n\t\t.unfocusedIcons{\n\t\t\topacity: 0.3;\n\t\t\ttransition: 0.2s;\n\t\t}\n\n\t\t.focusedIcons{\n\t\t\topacity: 0.5;\n\t\t\ttransition: 0.2s;\n\t\t}\n\n\t\t#editorIcons img:hover{\n\t\t\topacity: 0.8;\n\t\t\ttransition: opacity 0.2s;\n\t\t}\n\n\t\t.paragraphIcons{\n\t\t\ttop: 10px;\n\t\t}\n\t</style>\n\t<div id="editorIcons" class="paragraphIcons"><img src="../public/resources/plusIcon.png" class="unfocusedIcons"/><img src="../public/resources/sixDotIcon.png" class="unfocusedIcons"/></div>\n\t<div id="textBlock" contenteditable="true" ondrop="return false;" class="unstylized" placeholder=\'Type "/" to create an item: future log, collection, etc\'></div>\n';class F extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(S.content.cloneNode(!0))}connectedCallback(){let t=this.shadowRoot.getElementById("textBlock");t.onkeydown=e=>{if("Enter"===e.key){e.preventDefault();let n=t.innerHTML;"/futurelog"===n?alert("New Future Log will be created"):"/monthlylog"===n?alert("New Monthly Log will be created"):"/dailylog"===n?alert("New Daily Log will be created"):"/collection"===n?alert("New Collection will be created"):"/tracker"===n&&x("Practice Tracker",[],Lt.id,!0,((t,e)=>{t?console.log(t):console.log(e)}))}}}}function M(t,e){let n=1,o=setInterval((()=>{let s=!1;n<=.1&&(clearInterval(o),t.style.display="none",s=!0),t.style.opacity=n,n-=.1*n,s&&e()}),10)}function D(t,e){let n=!1,o=.1;t.style.display="block";let s=setInterval((()=>{o>=1&&(clearInterval(s),n=!0),t.style.opacity=o,o+=.1*o,n&&e()}),10)}window.customElements.define("creator-block",F);const E={};let C="";E.setState=function(t,e){Bt(t),C=t,setTimeout((()=>{for(document.getElementById("trackerWrapper").childNodes.length>0&&document.getElementById("trackerWrapper").removeChild(document.getElementById("trackerWrapper").childNodes[0]);document.getElementById("contentWrapper").childNodes.length>0;)document.getElementById("contentWrapper").removeChild(document.getElementById("contentWrapper").childNodes[0]);document.querySelector("body").className="";let n=document.querySelector("body"),o=bt.shadowRoot.querySelectorAll("button");M(n,(()=>{v((s=>{console.log(s),null===C||"#index"===C||""===C?At(o):C.includes("#dailyLog")?St(o,t):C.includes("#monthlyLog")?It(o,t):C.includes("#futureLog")&&Tt(o,t),e||history.pushState({page:vt},"",xt),D(n,(()=>{console.log("unfading the content")}))}))}))}),150)};class R extends HTMLElement{constructor(t,e,n=1){super(),this.currentHeight=5,this.item=e,this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`\n\t\t<style>\n\t\t\t@font-face {\n\t\t\t\tfont-family:"SF-Pro";\n\t\t\t\tsrc: url("./public/fonts/SF-Pro.ttf");\n\t\t\t}\n\n\t\t\t#wrapper{\n\t\t\t\tpadding-bottom: 0;\n\t\t\t\twidth: calc(100% - 70px);\n\t\t\t\tuser-select: none; \n\t\t\t\t-webkit-user-select: none;\n\t\t\t\t-moz-user-select: none; \n\t\t\t\t-khtml-user-select: none; \n\t\t\t\t-ms-user-select: none;\n\t\t\t}\n\n\t\t\t#title{\n\t\t\t\tdisplay: inline-block;\n\t\t\t\tfont-family: "SF-Pro";\n\t\t\t\tmargin-left: 7.5px;\n\t\t\t\tfont-size: calc(20pt - ${2*n}pt);\n\t\t\t\tfont-weight: calc(900 - ${200*n});\n\t\t\t\tletter-spacing: calc(1.2px - ${.35*n}px);\n\t\t\t\tcursor: pointer;\n\t\t\t\tborder-bottom: 2px solid var(--content-foreground-color); /*rgba(0,0,0,0.4);*/\n\t\t\t\ttransition: 0.2s;\n\t\t\t}\n\n\t\t\t#title:hover{\n\t\t\t\tborder-bottom: 2px solid var(--content-foreground-color); /*rgba(0,0,0,0.9);*/\n\t\t\t\ttransition: 0.2s;\n\t\t\t}\n\n            #arrow {\n                width: 12px;\n                height: 12px;\n\t\t\t\tbackground-color: rgba(0,0,0,0);\n                border: none;\n\t\t\t\tcursor: pointer;\n            }\n\n            #arrow img {\n                max-width: calc(22px - ${3*n}px);\n                max-height: calc(22px - ${3*n}px);\n\n                filter: var(--icon-filter);\n            }\n            :not(.closed) #arrow img {\n                transform: rotate(0deg);\n                transition: transform 0.2s;\n            }\n\n            .closed #arrow img {\n                transform: rotate(90deg);\n                transition: 0.2s;\n            }\n\n\t\t\t:not(.closed) #contentWrapper{\n\t\t\t\tmax-height: 0;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttransition: max-height 0.2s ease-out;\n\t\t\t}\n\n\t\t\t.closed #contentWrapper{\n\t\t\t\tmax-height: auto;\n\t\t\t\ttransition: max-height 0.2s ease-out;\n\t\t\t}\n\n            #contentWrapper {\n                position: relative;\n                left: 3em;\n                width: calc(100% - ${3*n}em);\n                overflow-x: none;\n            }\n\n\t\t\t.singleItemWrapper{\n\t\t\t\tborder-top: 1px solid rgba(0,0,0,0.08);\n\t\t\t}\n\n\t\t\t#editorIcons{\n\t\t\t\tposition: relative;\n\t\t\t\tdisplay: inline;\n\t\t\t\tfloat: left;\n\t\t\t\ttop: calc(17.5px - ${Number(n)}px);\n\t\t\t\tvertical-align: top;\n\t\t\t}\n\t\t\t\n\t\t\t#editorIcons img{\n\t\t\t\tmargin-right: 7px;\n\t\t\t\theight: 15px;\n\t\t\t\tcursor: pointer;\n\t\t\t\tfilter: var(--icon-filter);\n\t\t\t}\n\t\t\t.unfocusedIcons{\n\t\t\t\topacity: 0.5;\n\t\t\t\ttransition: 0.2s;\n\t\t\t}\n\t\n\t\t\t#editorIcons img:hover{\n\t\t\t\topacity: 0.8;\n\t\t\t\ttransition: opacity 0.2s;\n\t\t\t}\n\t\t</style>\n\t\t<div id="editorIcons" class="paragraphIcons"><img src="../public/resources/plusIcon.png" class="unfocusedIcons"/><img src="../public/resources/sixDotIcon.png" class="unfocusedIcons"/></div>\n        <div id="wrapper">\n\t\t\t<div id="titleWrapper" class="${n>1?"singleItemWrapper":""}">\n\t\t\t\t<h1 id="title"></h1>\n\t\t\t\t<button id="arrow"><img src="../public/resources/right-chevron.png" /></button>\n\t\t\t</div>\n            <div id="contentWrapper"></div>\n\n        `,this.button=this.shadowRoot.getElementById("arrow"),this.wrapper=this.shadowRoot.getElementById("wrapper"),this.contentWrapper=this.shadowRoot.getElementById("contentWrapper"),this.header=this.shadowRoot.querySelector("h1"),this.title=t,this.titleWrapper=this.shadowRoot.querySelector("#titleWrapper")}connectedCallback(){this.removeAttribute("closed"),this.button.addEventListener("click",(()=>{this.toggleItems()})),this.header.addEventListener("click",(()=>{this.navigateToObject()}))}get title(){return this.header.innerText}set title(t){this.header.innerText=t}get closed(){return this.wrapper.hasAttribute("closed")}set closed(t){t?this.hide():this.display()}navigateToObject(){E.setState(`#${this.item.objectType}~${this.item.id}`,!1),bt.open=!1}display(){this.wrapper.classList.toggle("closed",!0)}hide(){this.wrapper.classList.toggle("closed",!1)}toggleItems(){this.wrapper.classList.toggle("closed"),this.wrapper.classList.contains("closed")?this.display():this.hide()}}window.customElements.define("drop-down",R);class _ extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n        <style>\n            :host {\n                font-family: "SF-Pro";\n                display: flex;\n                height: 100%;\n                flex-direction: column;\n                justify-content: flex-end;\n            }\n\n            #logout {\n                margin-top: auto;\n                border: none;\n                background-color: #EF233C;\n                color: #FFFFFF;\n                font-size: 22px;\n                height: 30px;\n                padding: 10px;\n                border-radius: 5px;\n                box-sizing: content-box;\n                cursor: pointer;\n                transition: background-color 0.2s;\n\n            }\n\n            #logout:active {\n                background-color: pink;\n            }\n\n            .profile {\n                text-align: center;\n            }\n        </style>\n\n        <div class="profile">Profile placeholder</div>\n        <button id="logout"> Logout </button>\n        ';let t=this.shadowRoot.querySelectorAll("input[type=radio]");for(let e of t)e.addEventListener("change",(()=>this.updateTheme(e.id)));this.logoutButton=this.shadowRoot.getElementById("logout")}connectedCallback(){this.logoutButton.onclick=()=>{(navigator.onLine||confirm("You're logging out while offline, all your local changes will be deleted if you continue!"))&&(f(),m.destroy(((t,e)=>{t?console.log(t):console.log(e)})),m.info(((t,e)=>{t?console.log(t):console.log(e)})),window.location.href="http://localhost:8080/login")}}}customElements.define("general-settings-panel",_);const H={darkmode:{"--border-color":"#292929","--content-foreground-color":"#D4D4D4","--content-background-color":"#2e3030","--tracker-foreground-color":"#FFFFFF","--tracker-background-color":"#1e2020","--tracker-border-color":"#404040","--navbar-foreground-color":"#FFFFFF","--navbar-background-color":"#1e2020","--icon-filter":"invert()"},lightmode:{"--border-color":"#F2F2F2","--content-foreground-color":"#000000","--content-background-color":"#FFFFFF","--tracker-foreground-color":"#FFFFFF","--tracker-border-color":"#48486f","--tracker-background-color":"#2B2D42","--navbar-foreground-color":"#FFFFFF","--navbar-background-color":"#F7F2EC","--icon-filter":""},highcontrast:{"--border-color":"#F2F2F2","--content-foreground-color":"#FFFFFF","--content-background-color":"#000000","--tracker-foreground-color":"#FFFFFF","--tracker-background-color":"#0000FF","--tracker-border-color":"#FFFFFF","--navbar-foreground-color":"#FFFFFF","--navbar-background-color":"#008F00","--icon-filter":"invert()"},theme4:{"--border-color":"#F2F2F2","--content-foreground-color":"#000000","--content-background-color":"#FFFFFF","--tracker-foreground-color":"#FFFFFF","--tracker-background-color":"#026670","--tracker-border-color":"#7671B6","--navbar-foreground-color":"#FEF9C7","--navbar-background-color":"#FCE181","--icon-filter":""},theme5:{"--border-color":"#8E8D8A","--content-foreground-color":"#000000","--content-background-color":"#EAE7DC","--tracker-foreground-color":"#FFFFFF","--tracker-background-color":"#48131A","--tracker-border-color":"#6F474E","--navbar-foreground-color":"#000000","--navbar-background-color":"#D8C3A5","--icon-filter":""},theme6:{"--border-color":"#34375c","--content-foreground-color":"#E3E3E8","--content-background-color":"#1A1A3D","--tracker-foreground-color":"#E3E3E8","--tracker-background-color":"#25274D","--tracker-border-color":"#464866","--navbar-foreground-color":"#000000","--navbar-background-color":"#25274D","--content-placeholder-color":"#505b84","--icon-filter":"invert()"}};class N extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n        <style>\n            @font-face {\n                font-family:"SF-Pro";\n                src: url("./public/fonts/SF-Pro.ttf");\n            }\n\n            :host {\n                display: block;\n                font-family: "SF-Pro";\n            }\n\n            form {\n                margin: 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-content: center;\n\t\t\t\tflex-direction: row;\n            }\n\n\t\t\tlabel{\n\t\t\t\tflex-direction: column;\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-size: 16pt;\n\t\t\t\tmargin-left: 20px;\n\t\t\t\tmargin-right: 20px;\n\t\t\t\tmargin-bottom: 30px;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\n\t\t\t.themeImg{\n\t\t\t\twidth: 250px;\n\t\t\t\tmargin-top: 10px;\n\t\t\t\tpadding: 1px;\n\t\t\t\tborder-radius: 5px;\n\t\t\t\ttransition: 0.2s;\n\t\t\t}\n\n\t\t\tinput[type="radio"]{\n\t\t\t\tdisplay: none;\n\t\t\t}\n\n\t\t\tinput[type="radio"]:checked+label img.themeImg{\n\t\t\t\tborder: 8px solid var(--content-foreground-color);\n\t\t\t\ttransition: 0.2s;\n\t\t\t}\n\n        </style>\n\n        <form id="theme">\n            <input type="radio" name="themeradio" id="darkmode" /><label for="darkmode">Cool Dark<br /><img class="themeImg" src="../../public/resources/coolDark.png" /></label><br>\n            <input type="radio" name="themeradio" id="lightmode" /><label for="lightmode">Minimal Light<br /><img class="themeImg" src="../../public/resources/minimalLight.png" /></label><br>\n            <input type="radio" name="themeradio" id="highcontrast" /><label for="highcontrast">High Contrast<br /><img class="themeImg" src="../../public/resources/highContrast.png" /></label><br>\n            <input type="radio" name="themeradio" id="theme4" /><label for="theme4">Snazzy Light<br /><img class="themeImg" src="../../public/resources/snazzyLight.png" /></label><br>\n            <input type="radio" name="themeradio" id="theme5" /><label for="theme5">Classy Light<br /><img class="themeImg" src="../../public/resources/classyLight.png" /></label><br>\n            <input type="radio" name="themeradio" id="theme6" /><label for="theme6">Night Owl<br /><img class="themeImg" src="../../public/resources/nightOwl.png" /></label><br>\n        </form>\n        ',this.themeRadios=this.shadowRoot.querySelectorAll("input[type=radio]")}connectedCallback(){for(let t of this.themeRadios)t.addEventListener("change",(()=>{var e,n,o;e=t.id,n=!0,o=e=>{console.log("here"),e?console.log(e):(console.log("here"),this.updateTheme(t.id))},function(t,e,n){console.log(e),t.get("0000",((o,s)=>{if(!o)return t.put({_id:"0000",_rev:s._rev,email:s.email,pwd:s.pwd,theme:e,index:s.index,dailyLogs:s.dailyLogs,monthlyLogs:s.monthlyLogs,futureLogs:s.futureLogs,collections:s.collections,trackers:s.trackers,imageBlocks:s.imageBlocks,audioBlocks:s.audioBlocks,textBlocks:s.textBlocks,tasks:s.tasks,events:s.events,signifiers:s.signifiers},((t,e)=>{t?n(t):(console.log(e),n(null))}));n(o)}))}(m,e,(t=>{n&&f(),o(t)}))}));v(((t,e)=>{t?(this.shadowRoot.getElementById(e.theme).toggleAttribute("checked",!0),this.updateTheme(e.theme)):console.log(t)}))}updateTheme(t){let e=document.documentElement;for(let n in H[t])null!==n&&e.style.setProperty(n,H[t][n])}}customElements.define("theme-panel",N);class P extends HTMLElement{static get observedAttributes(){return["open"]}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n            <style>\n                @font-face {\n                    font-family:"SF-Pro";\n                    src: url("./public/fonts/SF-Pro.ttf");\n                }\n\n                :host {\n                    font-family: "SF-Pro";\n                }\n\n                .overlay {\n                    position: fixed;\n                    width: 100%;\n                    height: 100%;\n                    top: 0;\n                    left: 0;\n                    bottom: 0;\n                    right: 0;\n                    background-color: #0000007F;\n                    z-index: 10;\n                    user-select: none;\n                }\n\n                #close {\n                    color: var(--content-foreground-color);\n\n                    width: 40px;\n                    height: 40px;\n\n\n                    border: none;\n                    background-color: transparent;\n                    cursor: pointer;\n                }\n\n\t\t\t\t#dismiss {\n\t\t\t\t\tfilter: var(--icon-filter);\n\t\t\t\t\twidth: 20px;\n\t\t\t\t\topacity: 0.5;\n\t\t\t\t\ttransition: 0.2s;\n\t\t\t\t}\n\n\t\t\t\t#dismiss:hover {\n\t\t\t\t\topacity: 1;\n\t\t\t\t\ttransition: 0.2s;\n\t\t\t\t}\n\n                .menu {\n                    display: flex;\n                    position: absolute;\n\t\t\t\t\tborder-radius: 10px;\n\t\t\t\t\toverflow: hidden;\n                    top: 50%;\n                    left: 50%;\n                    width: 80%;\n                    height: 80%;\n\t\t\t\t\tmax-width: 800px;\n\t\t\t\t\tmax-height: 800px;\n                    transform: translate(-50%,-50%);\n                    -ms-transform: translate(-50%,-50%);\n                    background-color: var(--content-background-color);\n                }\n\n                .sidebar {\n                    display: flex;\n                    flex-direction: column;\n                    align-items: center;\n\n                    left: 0;\n                    top: 0;\n                    bottom: 0;\n                    background-color: var(--navbar-background-color);\n                }\n\n                .content {\n                    display: flex;\n                    flex-direction: column;\n                    flex: 1;\n                }\n\n                .options {\n                    display: flex;\n                    flex: 1;\n                    overflow-y: auto;\n                    padding: 20px;\n                }\n\n                h1 {\n                    text-align: center;\n                    flex: 1;\n                }\n\n                .header {\n                    display: flex;\n                    align-items: center;\n                    height: 60px;\n                    margin-left: 10px;\n                    margin-right: 10px;\n                    border-bottom: 2px solid var(--border-color);\n                }\n\n                ::slotted(settings-tab[selected]) {\n                    background-color: var(--content-background-color);\n                }\n                \n                ::slotted(settings-panel) {\n                    flex: 1;\n                    overflow-y: auto;\n                }\n            </style>\n\n            <div class="overlay">\n                <div class="menu">\n                    <div class="sidebar">\n                        <slot name="settings-tab"></slot>\n                    </div>\n\n                    <div class="content">\n                        <div class="header">\n                            <h1>Settings</h1>\n                            <button id="close"><img id="dismiss" src="../../public/resources/xIcon.png" /></button>\n                        </div>\n\n                        <div class="options">\n                            <slot name="settings-panel"></slot>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ',this.shadowRoot.getElementById("close").addEventListener("click",(()=>{this.hide()})),this.tabSlot=this.shadowRoot.querySelector("slot[name=settings-tab]"),this.panelSlot=this.shadowRoot.querySelector("slot[name=settings-panel]"),this.changeTab=this.changeTab.bind(this),this.linkPanels=this.linkPanels.bind(this),this.tabSlot.addEventListener("slotchange",(()=>this.linkPanels)),this.panelSlot.addEventListener("slotchange",(()=>this.linkPanels)),this.headerTitle=this.shadowRoot.querySelector(".header h1")}connectedCallback(){this.innerHTML='\n\t<style>\n\t\tsettings-tab {\n\t\t\tcursor: pointer;\n\t\t}\n\t</style>\n    <settings-tab slot="settings-tab" title="Settings">\n        <img slot="icon" src="public/resources/generalSettingsIcon.png">\n    </settings-tab>\n    <settings-panel slot="settings-panel">\n        <general-settings-panel>\n    </settings-panel>\n\n    <settings-tab slot="settings-tab" title="Theme">\n        <img slot="icon" src="public/resources/palette.png">\n    </settings-tab>\n    <settings-panel slot="settings-panel">\n        <theme-panel></theme-panel>\n    </settings-panel>\n',this.classList.toggle("open",!1),this.setAttribute("aria-hidden",!0),this.style.display="none",this.removeAttribute("open"),Promise.all([customElements.whenDefined("settings-tab"),customElements.whenDefined("settings-panel")]).then((()=>this.linkPanels())),this.addEventListener("click",(t=>{"tab"===t.target.getAttribute("role")&&this.changeTab(t.target)}))}tabs(){return this.querySelectorAll("settings-tab")}panels(){return this.querySelectorAll("settings-panel")}linkPanels(){let t=this.tabs();if(0===t.length)return;let e=null;for(let n of t){let t=n.nextElementSibling;n.setAttribute("aria-controls",t.id),t.setAttribute("aria-labelledby",n.id),null===e&&n.selected&&(e=n)}null===e&&(e=t.item(0)),this.changeTab(e)}changeTab(t){let e=Array.from(this.tabs()),n=Array.from(this.panels());e.forEach((t=>{t.selected=!1})),n.forEach((t=>{t.hidden=!0}));let o=t.getAttribute("aria-controls"),s=this.querySelector(`#${o}`);s||console.log("panel not found"),this.headerTitle.innerText=t.getAttribute("title"),t.selected=!0,s.hidden=!1,t.focus()}attributeChangedCallback(t,e,n){e!==n&&(this[t]=this.hasAttribute(t))}get open(){return this.hasAttribute("open")}set open(t){this.classList.toggle("open",t),this.setAttribute("aria-hidden",!t),t?(this.setAttribute("open","true"),D(this,(()=>{this.focus()}))):M(this,(()=>{this.removeAttribute("open")}))}toggle(){this.open=!this.open}show(){this.open=!0}hide(){this.open=!1}}customElements.define("settings-menu",P);let j=0,$=document.createElement("template");$.innerHTML='\n<style>\n    :host {\n        padding: 10px;\n    }\n\n    ::slotted(img) {\n        pointer-events: none;\n        width: 32px;\n        height: 32px;\n        opacity: 50%;\n        filter: var(--icon-filter);\n    }\n\n    :host(:hover) ::slotted(img) {\n        opacity: 100%;\n        transition: opacity 150ms;\n    }\n</style>\n\n<slot name="icon"></slot>\n';class q extends HTMLElement{static get observedAttributes(){return["selected"]}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild($.content.cloneNode(!0))}connectedCallback(){this.setAttribute("role","tab"),this.id||(this.id=`settings-tab-generated-${j}`,j+=1),this.setAttribute("aria-selected","false")}attributeChangedCallback(){const t=this.hasAttribute("selected");this.setAttribute("aria-selected",t)}set selected(t){Boolean(t)?this.setAttribute("selected",""):this.removeAttribute("selected")}get selected(){return this.hasAttribute("selected")}}customElements.define("settings-tab",q);let z=0;class Y extends HTMLElement{connectedCallback(){this.setAttribute("role","tabpanel"),this.id||(this.id=`settings-panel-generated-${z}`,z+=1)}}customElements.define("settings-panel",Y);const W=document.createElement("template");W.innerHTML='\n\t<style>\n\t\t.navigation {\n\t\t\tdisplay: none; \n\t\t}\n\n\t\t.nav-bar {\n\t\t\tposition: fixed;\n\t\t\twidth: 60px;\n\t\t\theight: 100%;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tdisplay: block;\n\t\t\tbackground-color: var(--navbar-background-color);\n\t\t}\n\n\t\tbutton {\n\t\t\tdisplay: block;\n\t\t\tbackground-color: transparent;\n\t\t\tborder: none;\n\t\t\tpadding: 0;\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tmargin: 20px auto 44px auto;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\tbutton img {\n\t\t\theight: 100%;\n\t\t\tfilter: var(--icon-filter);\n\t\t\topacity: 50%;\n\t\t}\n\n\t\tbutton:hover img {\n\t\t\topacity: 100%;\n\t\t\ttransition: opacity 25ms;\n\t\t}\n\n\t\t#bottom {\n\t\t\tposition: absolute;\n\t\t\tbottom: 10px;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t#user {\n\t\t\tposition: static;\n\t\t\tmargin: 0 auto;\n\t\t}\n\n\t\t@media only screen and (max-width:900px) {\n\t\t\t#menu {\n\t\t\t\tposition: fixed;\n\t\t\t\twidth: 30%;\n\t\t\t\theight: 100%;\n\t\t\t\tbox-shadow: 0 0 2px #85888C;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\tbackground-color: var(--navbar-background-color);\n\t\t\t\t-webkit-font-smoothing: antialiased;\n\t\t\t}\n\n\t\t\t#menu.closed {\n\t\t\t\ttransform: translate(-100%, 0);\n\t\t\t\ttransition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0);\n\t\t\t}\n\n\t\t\t#menu.open {\n\t\t\t\ttransform-origin: 0 0;\n\t\t\t\ttransition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0);\n\t\t\t}\n\n\t\t\t.nav-bar {\n\t\t\t\tdisplay:none;\n\t\t\t}\n\n\t\t\t.navigation {\n\t\t\t\tdisplay: block;\n\t\t\t\tpadding: none;\n\t\t\t\tmargin: none;\n\t\t\t\twidth: 30vh;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tposition:fixed;\n\t\t\t}\n\n\t\t\t#homeMenu {\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 60px;\n\t\t\t\theight: 60px;\n\t\t\t\ttop: 70px;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tmargin: auto;\n\t\t\t}\n\n\t\t\t#singleMenu {\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 60px;\n\t\t\t\theight: 60px;\n\t\t\t\ttop: 180px;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tmargin: auto;\n\t\t\t}\n\n\t\t\t#doubleMenu {\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 60px;\n\t\t\t\theight: 60px;\n\t\t\t\ttop: 290px;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tmargin: auto;\n\t\t\t}\n\n\t\t\t#userMenu {\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 65px;\n\t\t\t\theight: 65px;\n\t\t\t\ttop: calc(100% - 115px);\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\tmargin: 0 auto;\n\t\t\t}\n\t\t}\n\n\t\t@media only screen and (max-height: 1200px){\n\t\t\t#homeMenu {\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t}\n\n\t\t\t#singleMenu {\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\ttop: 150px;\n\t\t\t}\n\n\t\t\t#doubleMenu {\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\ttop: 230px;\n\t\t\t}\n\n\t\t\t#userMenu {\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 45px;\n\t\t\t\theight: 45px;\n\t\t\t\ttop: calc(100% - 85px);\n\t\t\t}\n\t\t}\n\n\t\t@media only screen and (max-height: 800px){\n\t\t\t#homeMenu {\n\t\t\t\twidth: 35px;\n\t\t\t\theight: 35px;\n\t\t\t}\n\n\t\t\t#singleMenu {\n\t\t\t\twidth: 35px;\n\t\t\t\theight: 35px;\n\t\t\t\ttop: 130px;\n\t\t\t}\n\n\t\t\t#doubleMenu {\n\t\t\t\twidth: 35px;\n\t\t\t\theight: 35px;\n\t\t\t\ttop: 190px;\n\t\t\t}\n\n\t\t\t#userMenu {\n\t\t\t\tposition: absolute;\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\ttop: calc(100% - 65px);\n\t\t\t}\n\t\t}\n\t</style> \n\n\t<nav class="nav-bar">\n\t\t<button id="home">  <img src="../public/resources/home_icon.png"></button>\n\t\t<button id="target"><img src="../public/resources/target_icon.png"></button>\n\t\t<button id="single"><img src="../public/resources/left.png"></button>\n\t\t<button id="double"><img src="../public/resources/double_icon.png"></button>\n\t\t<div id="bottom">\n\t\t\t<button id="user">  <img src="../public/resources/user.png"></button>\n\t\t</div>\n\t</nav>\n\t<nav class="navigation">\n\t\t<div id="menu" class="closed">\n\t\t\t<button id="homeMenu">  <img src="../public/resources/home_icon.png"></button>\n\t\t\t<button id="singleMenu"><img src="../public/resources/left.png"></button>\n\t\t\t<button id="doubleMenu"><img src="../public/resources/double_icon.png"></button>\n\t\t\t<button id="userMenu">  <img src="../public/resources/user.png"></button>\n\t\t</div>\n\t</nav>\n';class O extends HTMLElement{static get observedAttributes(){return["open"]}constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(W.content.cloneNode(!0)),this.home=this.shadowRoot.querySelectorAll("button")[0],this.target=this.shadowRoot.querySelectorAll("button")[1],this.single=this.shadowRoot.querySelectorAll("button")[2],this.double=this.shadowRoot.querySelectorAll("button")[3],this.user=this.shadowRoot.querySelectorAll("button")[4],this.menu=this.shadowRoot.querySelector("#menu"),this.homeMenu=this.shadowRoot.querySelector("#homeMenu"),this.singleMenu=this.shadowRoot.querySelector("#singleMenu"),this.doubleMenu=this.shadowRoot.querySelector("#doubleMenu"),this.userMenu=this.shadowRoot.querySelector("#userMenu")}connectedCallback(){this.home.addEventListener("click",(()=>{this.goHome()})),this.target.addEventListener("click",(()=>{this.toggleTracker()})),this.single.addEventListener("click",(()=>{this.goBack()})),this.double.addEventListener("click",(()=>{this.goFarBack()})),this.user.addEventListener("click",(()=>{document.querySelector("settings-menu").toggle()})),this.homeMenu.addEventListener("click",(()=>{this.goHome(),this.open=!1})),this.singleMenu.addEventListener("click",(()=>{this.goBack(),this.open=!1})),this.doubleMenu.addEventListener("click",(()=>{this.goFarBack(),this.open=!1})),this.userMenu.addEventListener("click",(()=>{let t=document.querySelector("settings-menu");typeof t===P&&t.toggle()}))}attributeChangedCallback(t,e,n){e!==n&&(this[t]=n)}goHome(){null!==document.location.hash&&"#index"!==document.location.hash&&""!==document.location.hash&&E.setState("",!1)}goBack(){let t=document.location.hash.includes("#dailyLog")?"monthlyLog":"futureLog";E.setState(`#${t}~${Lt.parent}`,!1)}goFarBack(){let t=document.location.hash.includes("#dailyLog")?"futureLog":"index";localStorage.readUser(((e,n)=>{if(null===e){let e=[];Array.prototype.push.apply(e,n.dailyLogs),Array.prototype.push.apply(e,n.monthlyLogs),Array.prototype.push.apply(e,n.futureLogs),Array.prototype.push.apply(e,n.collections);let o=e.filter((t=>t.id===Lt.parent))[0];E.setState(`#${t}~${o.parent}`,!1)}else console.log(e)}))}toggleTracker(){document.querySelector("tracker-menu").toggle()}toggle(){this.open=!this.open}get open(){return this.hasAttribute("open")}set open(t){this.menu.classList.toggle("open",t),this.menu.classList.toggle("closed",!t),this.menu.setAttribute("aria-hidden",!t),t?(this.setAttribute("open","true"),this.focus(),kt.menuToggle.checked=!0):(this.removeAttribute("open"),kt.menuToggle.checked=!1)}}customElements.define("nav-bar",O);class J extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n\t\t\t<style>\n\t\t\t\t@font-face {\n\t\t\t\t\tfont-family:"SF-Pro";\n\t\t\t\t\tsrc: url("./public/fonts/SF-Pro.ttf");\n\t\t\t\t}\n\n\t\t\t\t:host {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tmargin-left: 80px;\n\t\t\t\t\tmargin-right: 20px;\n\t\t\t\t\ttext-align: left;\n\t\t\t\t}\n\t\t\n\t\t\t\t/* Top navigation */\n\t\t\t\t#container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\theight: 75px;\n\t\t\t\t\tborder-bottom: solid 2px var(--border-color);\n\t\t\t\t}\n\n\t\t\t\t.header {\n\t\t\t\t\tfont-family: "SF-Pro";\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tflex: 2;/* Use half of the space for the title */\n\t\t\t\t}\n\t\t\n\t\t\t\tbutton {\n\t\t\t\t\tuser-select: none;\n\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tbackground-color: rgba(0,0,0,0);\n\t\t\t\t\tdisplay: inline;\n\t\t\t\t}\n\n\t\t\t\tbutton.plus {\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\twidth: 23px;\n\t\t\t\t\theight: 23px;\n\t\t\t\t\tmargin-right: 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.imgbutton {\n\t\t\t\t\theight: 20px;\n\t\t\t\t}\n\t\t\n\t\t\t\t.imgbutton img {\n\t\t\t\t\topacity: 20%;\n\t\t\t\t\tfilter: var(--icon-filter);\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t}\n\t\t\n\t\t\t\t.imgbutton:hover img {\n\t\t\t\t\topacity: 100%;\n\t\t\t\t\ttransition: opacity 150ms;\n\t\t\t\t}\n\t\t\n\t\t\t\th1 {\n\t\t\t\t\tdisplay: inline;\n\t\t\t\t\tfont-size: 40px;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tletter-spacing: 1.8px;\n\t\t\t\t\tvertical-align: middle;\n\t\t\t\t\tz-index: 0;\n\t\t\t\t\toutline: none;\n\t\t\t\t}\n\t\t\n\t\t\t\t.search_bar {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tmargin: 15px auto 15px 10px;\n\t\t\t\t\tpadding: 0 5px;\n\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\tborder-color: var(--border-color); /*rgba(0, 0, 0, 0.1);*/\n\t\t\t\t\tborder-width: 2px;\n\t\t\t\t\tborder-style: solid;\n\t\t\t\t\topacity: 60%;\n\t\t\t\t}\n\t\t\n\t\t\t\t.search_bar img {\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\n\t\t\t\t\topacity: 50%;\n\t\t\t\t\theight: 21px;\n\t\t\n\t\t\t\t\tvertical-align: middle;\n\n\t\t\t\t\tfilter: var(--icon-filter);\n\t\t\t\t}\n\n\t\t\t\t.search_bar input{\n\n\t\t\t\t\tbackground-color: rgba(0, 0, 0, 0);\n\t\t\t\t\tcolor: var(--content-foreground-color);\n\t\t\t\t\tfont-size: 14pt;\n\t\t\t\t\topacity: 90%;\n\t\t\t\t\theight: 35px;\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\twidth: 400px;\n\t\t\t\t\tborder: solid;\n\t\t\t\t\tborder-radius: 5px;\n\t\t\t\t\tborder-color: rgba(0, 0, 0, 0);\n\t\t\t\t\toutline: none;\n\t\t\t\t}\n\t\t\n\t\t\t\t/* Fade in for search bar */\n\t\t\t\t.search_bar:hover img {\n\t\t\t\t\topacity: 50%;\n\t\t\t\t\ttransition: opacity 150ms;\n\t\t\t\t}\n\t\t\n\t\t\t\t.search_bar:hover {\n\t\t\t\t\ttransition: 150ms;\n\t\t\t\t\topacity: 90%;\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\n\t\t\t\t.search_bar input:focus .search_bar{\n\t\t\t\t\ttransition: 150ms;\n\t\t\t\t\topacity: 90%;\n\t\t\t\t}\n\t\t\n\t\t\t\t#header_back{\n\t\t\t\t\tmargin-left: 0;\n\t\t\t\t\tmargin-right: 5px;\n\t\t\t\t}\n\t\t\n\t\t\t\t#header_forward{\n\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\tmargin-left: 5px;\n\t\t\t\t}\n\t\t\n\t\t\t\t.hide{\n\t\t\t\t\tdisplay: none;\n\t\t\t\t\topacity: 0;\n\t\t\t\t}\n\n\t\t\t\t#menuToggle {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\n\t\t\t\t@media screen and (max-width: 1250px) {\n\t\t\t\t\t.search_bar input {\n\t\t\t\t\t\twidth: 220px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@media screen and (max-width: 1080px) {\n\t\t\t\t\t.search_bar input {\n\t\t\t\t\t\twidth: 170px;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@media screen and (max-width: 1020px) {\n\t\t\t\t\t.search_bar {\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@media screen and (max-width: 900px) {\n\t\t\t\t\t\n\t\t\t\t\t:host {\n\t\t\t\t\t\tmargin-left: 20px;\n\t\t\t\t\t\tpadding-top: 10px;\n\t\t\t\t\t}\n\n\t\t\t\t\t.search_bar {\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t.header{\n\t\t\t\t\t\tmargin-left: 35px;\n\t\t\t\t\t\tmargin-right: 35px;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tflex: 2;\n\t\t\t\t\t}\n\n\t\t\t\t\t.plus {\n\t\t\t\t\t\twidth: 23px;\n\t\t\t\t\t\theight: 23px;\n\t\t\t\t\t\tpadding-top: 5px;\n\t\t\t\t\t\tright: 20px;\n\t\t\t\t\t}\n\n\t\t\t\t\t#title_page{\n\t\t\t\t\t\ttop: 5px;\n\t\t\t\t\t\tfont-size: 35px;\n\t\t\t\t\t\tletter-spacing: 1.5px;\n\t\t\t\t\t}\n\n\t\t\t\t\tbutton.imgbutton {\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t}\n\t\t\t\t\t#header_back{\n\t\t\t\t\t\tmargin-left: 0;\n\t\t\t\t\t\tmargin-right: 1px;\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t#header_forward{\n\t\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\t\tmargin-left: 1px;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t#container{\n\t\t\t\t\t\theight: 70px;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t}\n\n\t\t\t\t\t#menuToggle {\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\tflex-direction: column;\n\t\t\t\t\t\tleft: 20px;\n\t\t\t\t\t\tpadding-top: 5px;\n\t\t\t\t\t\tz-index: 1;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t#menuToggle input {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\twidth: 40px;\n\t\t\t\t\t\theight: 32px;\n\t\t\t\t\t\tleft: 10px;\n\t\t\t\t\t\ttop: 15px;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\tz-index: 2;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t#menuToggle span {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\twidth: 29px;\n\t\t\t\t\t\theight: 2px;\n\t\t\t\t\t\tmargin-top: 5px;\n\t\t\t\t\t\tmargin-bottom: 5px;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\tborder-radius: 3px;\n\t\t\t\t\t\tbackground: var(--content-foreground-color);\n\t\t\t\t\t\tz-index: 1;\n\t\t\t\t\t\ttransform-origin: 5px 0px;\n\t\t\t\t\t\ttransition: transform 0.5s cubic-bezier(0.77,0.2,0.05,1.0),\n\t\t\t\t\t\t\t\t\tbackground 0.5s cubic-bezier(0.77,0.2,0.05,1.0),\n\t\t\t\t\t\t\t\t\topacity 0.55s ease;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t#menuToggle span:first-child {\n\t\t\t\t\t\ttransform-origin: 0% 0%;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t#menuToggle span:nth-last-child(2) {\n\t\t\t\t\t\ttransform-origin: 0% 100%;\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t#menuToggle input:checked ~ span {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\ttransform: rotate(45deg) translate(-7px, -10px);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t#menuToggle input:checked ~ span:nth-last-child(3) {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: rotate(0deg) scale(0.2, 0.2);\n\t\t\t\t\t}\n\t\t\n\t\t\t\t\t#menuToggle input:checked ~ span:nth-last-child(2) {\n\t\t\t\t\t\ttransform: rotate(-45deg) translate(-5px, 10px);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@media screen and (max-width: 700px) {\n\t\t\t\t\t.plus{\n\n\t\t\t\t\t}\n\n\t\t\t\t\t#container{\n\t\t\t\t\t\theight: 50px;\n\t\t\t\t\t}\n\n\t\t\t\t\t#title_page{\n\t\t\t\t\t\ttop: 5px;\n\t\t\t\t\t\tfont-size: 22px;\n\t\t\t\t\t\tletter-spacing: 1px;\n\t\t\t\t\t}\n\n\t\t\t\t\t#menuToggle input {\n\t\t\t\t\t\ttop: 8px;\n\t\t\t\t\t}\n\n\t\t\t\t\tbutton.imgbutton img {\n\t\t\t\t\t}\n\n\t\t\t\t\tbutton.imgbutton {\n\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t#header_back {\n\t\t\t\t\t\tmargin-left: 0;\n\t\t\t\t\t\tmargin-right: 1px;\n\t\t\t\t\t}\n\t\t\t\n\t\t\t\t\t#header_forward{\n\t\t\t\t\t\tmargin-right: 0;\n\t\t\t\t\t\tmargin-left: 1px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</style>\n\n\t\t\t<div id="container">\n\t\t\t\t<div id="menuToggle">\n\t\t\t\t\t<input type="checkbox" />\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<span></span>\n\t\t\t\t\t<span></span>\n\t\t\t\t</div>\n\t\t\t\t<span class="header">\n\t\t\t\t\t<button class="imgbutton" id="header_back"><img src="../public/resources/left-chevron.png"></button>\n\t\t\t\n\t\t\t\t\t<h1 id="title_page">Template Page Title</h1>\n\t\t\t\n\t\t\t\t\t<button class="imgbutton" id="header_forward"><img src="../public/resources/right-chevron.png"></button>\n\t\t\t\t</span>\n\t\t\t\n\t\t\t\t<button class="imgbutton plus"><img src="../public/resources/plusIcon.png"></button>\n\t\t\t\n\t\t\t\t<span class="search_bar">\n\t\t\t\t\t<input type="text" placeholder="Search">\n\t\t\t\t\t<img src="../public/resources/search_icon.png">\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t',this.h1=this.shadowRoot.getElementById("title_page"),this.createFutureLog=this.createFutureLog.bind(this),this.futureLogButton=this.shadowRoot.querySelector(".plus"),this.futureLogButton.addEventListener("click",(()=>{this.createFutureLog()})),this.imgbuttons=this.shadowRoot.querySelectorAll(".imgbutton"),this.menuToggle=this.shadowRoot.querySelector("#menuToggle input")}connectedCallback(){this.menuToggle.addEventListener("change",(()=>{bt.toggle()}))}makeEditabe(){this.h1.contentEditable=!0}makeUneditable(){this.h1.contentEditable=!1}set title(t){this.shadowRoot.getElementById("title_page").innerHTML=t}get title(){return this.h1.innerText}createFutureLog(){var t,n,o;t=new Date(2021,5,22),n=new Date(2021,8,23),o=(t,e)=>{t?console.log(t):v(((t,n)=>{t?console.log(t):n.ok&&console.log(e)}))},function(t,n,o,s,r,c,d){t.get("0000").then((i=>{let a=e(),d=[];for(Array.prototype.push.apply(d,i.dailyLogs),Array.prototype.push.apply(d,i.monthlyLogs),Array.prototype.push.apply(d,i.futureLogs),Array.prototype.push.apply(d,i.collections),Array.prototype.push.apply(d,i.trackers),Array.prototype.push.apply(d,i.textBlocks),Array.prototype.push.apply(d,i.tasks),Array.prototype.push.apply(d,i.events),Array.prototype.push.apply(d,i.signifiers),Array.prototype.push.apply(d,i.imageBlocks),Array.prototype.push.apply(d,i.audioBlocks);d.filter((t=>t.id===a)).length>0;)a=e();return l={id:a,objectType:"futureLog",startDate:n,endDate:o,months:s,content:r,trackers:c},i.futureLogs.push(l),i.index.contents.push(l.id),t.put({_id:"0000",_rev:i._rev,email:i.email,pwd:i.pwd,theme:i.theme,index:i.index,dailyLogs:i.dailyLogs,monthlyLogs:i.monthlyLogs,futureLogs:i.futureLogs,collections:i.collections,trackers:i.trackers,imageBlocks:i.imageBlocks,audioBlocks:i.audioBlocks,textBlocks:i.textBlocks,tasks:i.tasks,events:i.events,signifiers:i.signifiers})})).then((e=>{e.ok&&a(new Date(l.startDate.getTime()),new Date(l.endDate.getTime()),l,(e=>{t.get("0000").then((n=>{l.months=e,n.futureLogs[n.futureLogs.length-1]=l,t.put({_id:"0000",_rev:n._rev,email:n.email,pwd:n.pwd,theme:n.theme,index:n.index,dailyLogs:n.dailyLogs,monthlyLogs:n.monthlyLogs,futureLogs:n.futureLogs,collections:n.collections,trackers:n.trackers,imageBlocks:n.imageBlocks,audioBlocks:n.audioBlocks,textBlocks:n.textBlocks,tasks:n.tasks,events:n.events,signifiers:n.signifiers},((t,e)=>{i=!1,t?d(t,null):e.ok&&d(null,l)}))}))}))})).catch((t=>{d(t,null)}))}(m,t,n,[],[],[],((t,e)=>{f(),o(t,e)}))}}window.customElements.define("page-header",J);const U="attachShadow"in Element.prototype&&"getRootNode"in Element.prototype,X=Boolean(U&&document.createElement("div").attachShadow({mode:"open"}).getSelection),G=window.ShadyDOM&&window.ShadyDOM.inUse,Q=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,K=!U||G||!X&&!Q,V=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|script|source|style|template|track|wbr)$/,Z="-shadow-selectionchange",tt=[Node.ELEMENT_NODE,Node.TEXT_NODE,Node.DOCUMENT_FRAGMENT_NODE];function et(t,e,n){const o=e.childNodes||e.children;if(!o)return e;for(let e=0;e<o.length;++e){const i=o[n?e:o.length-1-e];if(s=i,tt.includes(s.nodeType)&&t.containsNode(i,!0)){if(t.containsNode(i,!1))return i;if(!V.exec(i.localName||""))return et(t,i,n)}}var s;return e}let nt={node:null,offset:-1};function ot(t,e,n){const o=e;for(;(e=st(e,n))&&e.contains(o););return!!e&&e instanceof Element&&t.containsNode(e,!0)}function st(t,e){if(!e)return t.previousSibling||t.parentNode||null;for(;t;){if(t.nextSibling)return t.nextSibling;t=t.parentNode}return null}!function(){if(X||K)return document.addEventListener("selectionchange",(t=>{document.dispatchEvent(new CustomEvent(Z))})),()=>{};let t=!1;document.addEventListener("selectionchange",(e=>{if(t)return;t=!0;const n=window.getSelection();if("Caret"===n.type){const t=function(t,e){const n=[],o=t=>{for(let e=0;e<t.length;++e)t[e].shadowRoot&&n.push(t[e].shadowRoot)};for(e.shadowRoot&&n.push(e.shadowRoot),o(e.childNodes);n.length;){const e=n.shift();for(let n=0;n<e.childNodes.length;++n)if(t.containsNode(e.childNodes[n],!0))return e;o(e.querySelectorAll("*"))}return null}(n,n.anchorNode);if(t instanceof window.ShadowRoot){const e=rt(t);if(e){const t=e.startContainer,n=e.startOffset;nt={node:t,offset:n}}}}document.dispatchEvent(new CustomEvent("-shadow-selectionchange")),window.requestAnimationFrame((()=>{t=!1}))}))}();const it=new Map;function rt(t){if(K){const e=document.getSelection();return e.containsNode(t,!0)?e.getRangeAt(0):null}if(X){const e=t.getSelection();return e.rangeCount?e.getRangeAt(0):null}const e=it.get(t);if(e)return e;const n=function(t){const e=window.getSelection();if("None"===e.type)return{range:null,type:"none"};if("Caret"!==e.type&&"Range"!==e.type)throw new TypeError("unexpected type: "+e.type);const n=et(e,t,!0);if(n===t)return{range:null,mode:"none"};const o=document.createRange();let s,i=null;if("Range"===e.type&&(i=et(e,t,!1),s=function(t,e,n){if("Range"!==t.type)return;const o=()=>t.toString().length,s=o();let i;return t.modify("extend","forward","character"),i=o(),i>s||ot(t,n,!0)?(t.modify("extend","backward","character"),!0):i<s||!t.containsNode(e)?(t.modify("extend","backward","character"),!1):(t.modify("extend","backward","character"),i=o(),i>s||ot(t,e,!1)?(t.modify("extend","forward","character"),!1):i<s||!t.containsNode(n)?(t.modify("extend","forward","character"),!0):void 0)}(e,n,i),void 0===s))return o.setStart(n,0),o.setEnd(i,i.length),{range:o,mode:"all"};const r=e.toString().length;let l=0,a=0;if(null===i);else if(i.nodeType===Node.TEXT_NODE){const t=i.textContent,n=i.nextSibling;for(let n=t.length-1;n>=0;--n)if(i.splitText(n),e.toString().length!==r){a=n+1;break}for(i.insertData(i.length,t.substr(i.length));i.nextSibling!==n;)i.nextSibling.remove()}if(n.nodeType===Node.TEXT_NODE){n!==i&&(n.appendData("?"),e.collapseToStart(),e.modify("extend","right","character"));const t=n.textContent,o=n.nextSibling;for(let o=n===i?a:t.length-1;o>=0;--o)if(n.splitText(o),""===e.toString()){l=o;break}for(n.insertData(n.length,t.substr(n.length));n.nextSibling!==o;)n.nextSibling.remove();n!==i&&n.deleteData(n.length-1,1),null===i&&(i=n,a=l)}else null===i&&(i=n);return 1===r&&nt&&nt.node===n&&nt.offset>l&&s&&(s=!1),!0===s?(e.collapse(n,l),e.extend(i,a)):!1===s?(e.collapse(i,a),e.extend(n,l)):e.setPosition(n,l),o.setStart(n,l),o.setEnd(i,a),{range:o,mode:"normal"}}(t);return it.set(t,n.range),window.setTimeout((()=>{it.delete(t)}),0),n.range}const lt=["Control","Alt","CapsLock","Escape","PageUp","PageDown","End","Home","PrintScreen","Insert","Delete","Backspace","Tab","Enter","Meta","ArrowTop","ArrowBottom","ArrowRight","ArrowLeft","Shift"," "];function at(t,e){return"3"===t||"5"===t||"8"===t||"10"===t?30:"1"===t&&function(t){return t%100==0?t%400==0:t%4==0}(e)?29:"1"===t?28:31}function ct(t,e,n){for(let o=0;o<e.length;o++)56517===e.charCodeAt(o)&&(n?t.dateSetter=!0:(t.hashPressed=!0,t.atPressed=!1)),56688===e.charCodeAt(o)&&(n?t.timeSetter=!0:(t.atPressed=!0,t.hashPressed=!1))}let dt=document.createElement("template");dt.innerHTML='\n\t<style>\n\t\t@font-face {\n\t\t\tfont-family:"SF-Pro";\n\t\t\tsrc: url("./public/fonts/SF-Pro.ttf");\n\t\t}\n\n\t\t#textBlock {\n\t\t\tfont-family: "SF-Pro";\n\t\t\tborder: none;\n\t\t\toverflow: auto;\n\t\t\toutline: none;\n\t\t\tresize: none;\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t#textBlock:empty::before{\n\t\t\tcontent: attr(placeholder);\n\t\t\tcolor: gray;\n\t\t}\n\n\t\t.eventNodateFocused::after{\n\t\t\tcontent: attr(dateFiller);\n\t\t\tcolor: gray;\n\t\t}\n\n\t\t.unstylized{\n\t\t\tmargin: 7px 0 12px;\n\t\t\tfont-size: 18px;\n\t\t\tline-height: 28px;\n\t\t\twidth: calc(100% - 74px);\n\t\t}\n\n\t\t.note{\t\n\t\t\tmargin: 0;\n\t\t\tmargin-left: -62px;\n\t\t\tposition: relative;\n\t\t\tfont-size: 18px;\n\t\t\tline-height: 28px;\n\t\t\tvertical-align: top;\n\t\t\twidth: calc(100% - 95px);\n\t\t}\n\n\t\t.task{\n\t\t\tmargin: 7px 0 2px;\n\t\t\tfont-size: 18px;\n\t\t\tline-height: 28px;\n\t\t\twidth: calc(100% - 96px);\n\t\t}\n\n\t\t.header1{\n\t\t\tfont-size: 42px;\n\t\t\tline-height: 50px;\n\t\t\tfont-weight: bold;\n\t\t\tmargin: 15px 0 20px;\n\t\t\twidth: calc(100% - 74px);\n\t\t}\n\n\t\t.header2{\n\t\t\tfont-size: 30px;\n\t\t\tline-height: 36px;\n\t\t\tfont-weight: bold;\n\t\t\tmargin: 8px 0 13px;\n\t\t\twidth: calc(100% - 74px);\n\t\t}\n\n\t\t.header3{\n\t\t\tfont-size: 25px;\n\t\t\tline-height: 30px;\n\t\t\tfont-weight: bold;\n\t\t\tmargin: 7px 0 10px;\n\t\t\twidth: calc(100% - 74px);\n\t\t}\n\n\t\t.bold{\n\t\t\tfont-weight: 900;\n\t\t}\n\n\t\t.italics{\n\t\t\tfont-style: italic;\n\t\t}\n\n\t\t.underlined{\n\t\t\ttext-decoration: underline;\n\t\t}\n\n\t\t.crossed{\n\t\t\ttext-decoration: line-through;\n\t\t\ttext-decoration-thickness: 2px;\n\t\t}\n\n\t\t#editorIcons{\n\t\t\tposition: relative;\n\t\t\tdisplay: inline;\n\t\t\tvertical-align: top;\n\t\t}\n\t\t\n\t\t#editorIcons img{\n\t\t\tmargin-right: 7px;\n\t\t\theight: 15px;\n\t\t\tcursor: pointer;\n\t\t\tfilter: var(--icon-filter);\n\t\t}\n\n\t\t#editorIcons div{\n\t\t\tdisplay: inline;\n\t\t\tmargin-right: 0;\n\t\t\topacity: 1;\n\t\t\twidth: 20px;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t.unfocusedIcons{\n\t\t\topacity: 0.3;\n\t\t\ttransition: 0.2s;\n\t\t}\n\n\t\t.focusedIcons{\n\t\t\topacity: 0.5;\n\t\t\ttransition: 0.2s;\n\t\t}\n\n\t\t#editorIcons img:hover{\n\t\t\topacity: 0.8;\n\t\t\ttransition: opacity 0.2s;\n\t\t}\n\t\t\n\t\t.header1Icons{\n\t\t\ttop: 35px;\n\t\t}\n\n\t\t.header2Icons{\n\t\t\ttop: 18px;\n\t\t}\n\n\t\t.header3Icons{\n\t\t\ttop: 12px;\n\t\t}\n\n\t\t.noteIcons{\n\t\t\tposition: relative;\n\t\t\ttop: 2px;\n\t\t\tleft: -87px;\n\t\t}\n\n\t\t.paragraphIcons{\n\t\t\ttop: 10px;\n\t\t}\n\n\t\t#checkerContainer{\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\t\t\tuser-select: none;\n\t\t}\n\n\t\t#taskChecker{\n\t\t\tdisplay: inline-block;\n\t\t\tuser-select: none;\n\t\t\tbackground-color: #fafafa;\n\t\t\tborder: 1px solid #cacece;\n\t\t\tbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.05), inset 0 -15px 10px -12px rgba(0,0,0,0.05);\n\t\t\twidth: 18px;\n\t\t\theight: 18px;\n\t\t\tmargin-top: 11px;\n\t\t\tmargin-right: 3px;\n\t\t\tmargin-left: -1px;\n\t\t\tvertical-align: top;\n\t\t\tborder-radius: 3px;\n\t\t}\n\n\t\t#taskChecker:active, #checkerContainer[checked="checked"]:active #taskChecker{\n\t\t\tbox-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0 1px 3px rgba(0,0,0,0.1);\n\t\t}\n\n\t\t#checkerContainer[checked="checked"] #taskChecker{\n\t\t\tbackground-color: #218be2;\n\t\t\tborder: 1px solid #218be2;\n\t\t\tbox-shadow: 0 1px 2px rgba(0, 87, 168, 0.05);\n\t\t\tcolor: #218be2;\n\t\t}\n\n\t\t#checkerContainer[checked="checked"]:after {\n\t\t\tposition: absolute;\n\t\t\tleft: 4px;\n\t\t\ttop: -12px;\n\t\t\tcontent: \'\\2714\';\n\t\t\tfont-size: 13px;\n\t\t\tcolor: #fff;\n\t\t}\n\n\t\t#signifier{\n\t\t\topacity: 1;\n\t\t}\n\n\t</style>\n\t<div id="editorIcons" class="paragraphIcons"><img src="../public/resources/plusIcon.png" class="unfocusedIcons"/><img src="../public/resources/sixDotIcon.png" class="unfocusedIcons"/><div id="signifier"></div></div>\n\t<div id="checkerContainer" checked=""><div id="taskChecker"></div></div>\n\t<div id="textBlock" contenteditable="true" ondrop="return false;" placeholder=\'Type "/" to create a block\'></div>\n';class ht extends HTMLElement{constructor(t,e,n,o){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(dt.content.cloneNode(!0)),this.root=this.shadowRoot,this.characterIndex=0,this.kind="paragraph",this.initialHeight=3,this.item=e,this.controller=t,this.shadowRoot.getElementById("textBlock").classList.add("unstylized"),this.currentBlock=null,this.checkBox=this.shadowRoot.getElementById("checkerContainer"),this.checkBox.style.display="none",this.currentPointerSpot=0,this.editorIcons=this.shadowRoot.getElementById("editorIcons"),this.currentPointerHeight=2,this.controller.creatingFromBullet.isTrue&&("note"===this.controller.creatingFromBullet.kind?this.setupNote():"event"===this.controller.creatingFromBullet.kind?this.setupEvent():this.setupTask()),this.tabLevel=t.currentTabLevel,this.atPressed=!1,this.hashPressed=!1,this.timeSetter=!1,this.dateSetter=!1,this.eventDelete=!0,this.signifier=n,this.signifierIcon=this.shadowRoot.getElementById("signifier"),this.signifierIcon.innerHTML=this.signifier.symbol,this.setupTabLevel(),setTimeout((()=>{o(!0)}),30)}setCurrentSpot(){let t=this.shadowRoot.getElementById("textBlock"),e=rt(this.shadowRoot);if(null===e){let t=20*this.tabLevel;this.currentPointerSpot=t+10,this.currentPointerHeight=this.initialHeight}else{let n=20*this.tabLevel,o=e.cloneRange();o.selectNodeContents(t),o.setEnd(e.endContainer,e.endOffset),this.atPressed=!1,this.hashPressed=!1,ct(this,t.innerText.slice(0,e.endOffset),!1),this.characterIndex=e.endOffset,this.currentPointerSpot=void 0===e.getClientRects()[0]?n+10:e.getClientRects()[0].x,this.currentPointerHeight=void 0===e.getClientRects()[0]?this.initialHeight:e.getClientRects()[0].y-t.getBoundingClientRect().top}}moveToSpot(t,e){let n=t,o=this.shadowRoot.getElementById("textBlock");if(o.childNodes.length>0){this.controller.resetPosition||(n=this.currentPointerSpot),o.focus();let t=rt(this.shadowRoot);o.blur(),console.log(n),console.log(n),setTimeout((()=>{let s=0;e&&(s=o.textContent.length),t.setStart(o.childNodes[0],s);let i=t.getClientRects()[0].x,r=s,l=0;for(n=Math.floor(n);l<1e3;){s=e?s>0?s-1:s:s<o.textContent.length?s+1:s,t.setStart(o.childNodes[0],s),t.collapse(!0);let a=t.getClientRects()[0].x;if(Math.abs(Math.floor(i)-n)<=Math.abs(Math.floor(a)-n)){t.setStart(o.childNodes[0],r);break}i=a,r=s,l+=1}t.collapse(!0),window.getSelection().removeAllRanges(),window.getSelection().addRange(t),o.focus()}),.01)}else o.focus()}setupHeader1(){let t=this.shadowRoot.getElementById("textBlock");for(;this.editorIcons.classList.length>0;)this.editorIcons.classList.remove(this.editorIcons.classList[0]);for(;t.classList.length>0;)t.classList.remove(t.classList[0]);for(;this.classList.length>0;)this.classList.remove(this.classList[0]);this.controller.creatingFromBullet={isTrue:!1,kind:""},this.kind="h1",this.initialHeight=0,t.setAttribute("placeholder","Header 1"),t.classList.add("header1"),this.editorIcons.classList.add("header1Icons"),t.innerHTML="",this.checkBox.style.display="none"}setupHeader2(){let t=this.shadowRoot.getElementById("textBlock");for(;this.editorIcons.classList.length>0;)this.editorIcons.classList.remove(this.editorIcons.classList[0]);for(;t.classList.length>0;)t.classList.remove(t.classList[0]);for(;this.classList.length>0;)this.classList.remove(this.classList[0]);this.controller.creatingFromBullet={isTrue:!1,kind:""},this.kind="h2",this.initialHeight=0,t.setAttribute("placeholder","Header 2"),t.classList.add("header2"),this.editorIcons.classList.add("header2Icons"),t.innerHTML="",this.checkBox.style.display="none"}setupHeader3(){let t=this.shadowRoot.getElementById("textBlock");for(;this.editorIcons.classList.length>0;)this.editorIcons.classList.remove(this.editorIcons.classList[0]);for(;t.classList.length>0;)t.classList.remove(t.classList[0]);for(;this.classList.length>0;)this.classList.remove(this.classList[0]);this.controller.creatingFromBullet={isTrue:!1,kind:""},this.kind="h3",this.initialHeight=0,t.setAttribute("placeholder","Header 3"),t.classList.add("header3"),this.editorIcons.classList.add("header3Icons"),t.innerHTML="",this.checkBox.style.display="none"}setupNote(){let t=this.shadowRoot.getElementById("textBlock");for(;this.editorIcons.classList.length>0;)this.editorIcons.classList.remove(this.editorIcons.classList[0]);for(;t.classList.length>0;)t.classList.remove(t.classList[0]);for(;this.classList.length>0;)this.classList.remove(this.classList[0]);this.kind="note",this.controller.creatingFromBullet={isTrue:!0,kind:this.kind},this.initialHeight=3,t.setAttribute("placeholder","Note"),this.classList.add("noteContainer"),this.editorIcons.classList.add("noteIcons"),t.classList.add("note"),t.innerHTML="",this.checkBox.style.display="none"}setupEvent(){let t=this.shadowRoot.getElementById("textBlock");for(;this.editorIcons.classList.length>0;)this.editorIcons.classList.remove(this.editorIcons.classList[0]);for(;t.classList.length>0;)t.classList.remove(t.classList[0]);for(;this.classList.length>0;)this.classList.remove(this.classList[0]);this.kind="event",this.controller.creatingFromBullet={isTrue:!0,kind:this.kind},this.initialHeight=3,t.setAttribute("placeholder","Event:");let e="";this.timeSetter?this.dateSetter||(e=`${e} use # for weekdays or dates MM/DD/YY`):(e=`${e} use @ for time HH:MM`,this.dateSetter||(e=`${e} and # for weekdays or dates MM/DD/YY`)),t.setAttribute("dateFiller",e),this.classList.add("eventContainer"),this.editorIcons.classList.add("noteIcons"),t.classList.add("note"),t.classList.add("eventNodateFocused"),t.innerHTML="",this.checkBox.style.display="none"}setupTask(){let t=this.shadowRoot.getElementById("textBlock");for(;this.editorIcons.classList.length>0;)this.editorIcons.classList.remove(this.editorIcons.classList[0]);for(;t.classList.length>0;)t.classList.remove(t.classList[0]);for(;this.classList.length>0;)this.classList.remove(this.classList[0]);this.kind="task",this.controller.creatingFromBullet={isTrue:!0,kind:this.kind},this.initialHeight=3,t.classList.add("task"),t.setAttribute("placeholder","Task"),t.innerHTML="",this.editorIcons.classList.add("paragraphIcons"),this.checkBox.style.display="inline"}removeStyles(){let t=this.shadowRoot.getElementById("textBlock");for(;this.editorIcons.classList.length>0;)this.editorIcons.classList.remove(this.editorIcons.classList[0]);for(;t.classList.length>0;)t.classList.remove(t.classList[0]);for(;this.classList.length>0;)this.classList.remove(this.classList[0]);this.kind="paragraph",this.initialHeight=3,t.classList.add("unstylized"),t.setAttribute("placeholder",'Type "/" to create a block'),t.innerHTML="",this.editorIcons.classList.add("paragraphIcons"),this.controller.creatingFromBullet={isTrue:!1,kind:""},this.checkBox.style.display="none"}setupTabLevel(){this.style.position="relative";let t=20*this.tabLevel;this.style.left=t+"px",this.controller.currentTabLevel=this.tabLevel,this.setCurrentSpot()}setupSignifier(t){this.signifier=t,this.signifierIcon.innerHTML=t.symbol}connectedCallback(){let t=this.shadowRoot.getElementById("textBlock");t.focus(),document.addEventListener(Z,(()=>{this.controller.blockArray[this.controller.currentBlockIndex].setCurrentSpot()})),this.checkBox.onclick=e=>{"checked"===this.checkBox.getAttribute("checked")?(this.checkBox.setAttribute("checked",""),t.classList.remove("crossed"),setTimeout((()=>{v(((t,e)=>{if(null===t){let t=e.tasks.filter((t=>t.id===this.item.objectReference))[0];t.complete=0,I(t,!0,((t,e)=>{console.log(t),console.log(e)}))}}))}),10)):(this.checkBox.setAttribute("checked","checked"),t.classList.add("crossed"),setTimeout((()=>{v(((t,e)=>{if(null===t){let t=e.tasks.filter((t=>t.id===this.item.objectReference))[0];console.log(t),t.complete=1,I(t,!0,((t,e)=>{console.log(t),console.log(e)}))}else console.log(t)}))}),10)),e.preventDefault()},t.onpaste=t=>{let e=t.clipboardData.getData("text/html")||t.clipboardData.getData("text/plain");e=e.replace(/<(?!(\/\s*)?(a|b|i|em|s|strong|u)[>,\s])([^>])*>/g,""),document.execCommand("insertText",!1,e),t.preventDefault()},t.onblur=()=>{t.classList.remove("eventNodateFocused");for(let t=0;t<this.editorIcons.childNodes.length-1;t++)this.editorIcons.childNodes[t].classList.remove("focusedIcons"),this.editorIcons.childNodes[t].classList.add("unfocusedIcons");let n=null;var o,s,i;"event"===this.kind&&(n=function(t,e){let n=null,o=t.shadowRoot.querySelector("#textBlock");if(t.dateSetter&&e){let s=1;for(let t=0;t<o.textContent.length;t++)if(56517===o.textContent.charCodeAt(t)){s=t+1;break}let i=o.textContent.length;if(t.dateSetter){let t=0;for(let e=0;e<o.textContent.length;e++)if(56688===o.textContent.charCodeAt(e)){t=e;break}t>=i&&(i=t)}let r=o.textContent.substring(s,i);r=r.replaceAll(" ","");let l=!1,a=["today","tomorrow","monday","tuesday","wednesday","thursday","friday","saturday","sunday"];a.includes(r.toLowerCase())?l=!0:(l=!0,(r.length>10||r.length<10||r.charAt(0).match(/[^01]/g)||"1"===r.charAt(0)&&r.charAt(1).match(/[^01]/g)||r.charAt(1).match(/[^0123456789]/g)||"/"!==r.charAt(2)||"/"!==r.charAt(5)||r.charAt(6).match(/[^0123456789]/g)||r.charAt(7).match(/[^0123456789]/g)||r.charAt(8).match(/[^0123456789]/g)||r.charAt(9).match(/[^0123456789]/g)||"0"===r.charAt(0)&&"2"===r.charAt(1)&&r.charAt(3).match(/[^012]/g)||r.charAt(3).match(/[^0123]/g)||r.charAt(4).match(/[^0123456789]/g)||at("28"===(r.substring(0,2),r.substring(6))||"29"===at(r.substring(0,2),r.substring(6)))&&r.charAt(3).match(/[^012]/g)||"31"===at(r.substring(0,2),r.substring(6))&&"3"===r.charAt(3)&&r.charAt(4).match(/[^01]/g)||"30"===at(r.substring(0,2),r.substring(6))&&"3"===r.charAt(3)&&r.charAt(4).match(/[^0]/g)||"28"===at(r.substring(0,2),r.substring(6))&&"2"===r.charAt(3)&&r.charAt(4).match(/[^012345678]/g))&&(l=!1)),!l&&e?(r=`${o.textContent.substring(0,s-2)}${o.textContent.substring(i+1)}`,console.log("\n\n\n\n\n\n\n\n\n"),o.innerHTML=r,t.timeSetter=!1,t.atPressed=!1):a.includes(r.toLowerCase())?"today"===r.toLowerCase()?n=new Date:"tomorrow"===r.toLowerCase()?(n=new Date,n.setDate(n.getDate()+1)):n=function(t,e=!0,n=new Date){const o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(t.toLowerCase());if(!(o<0))return n.setHours(0,0,0,0),n.setDate((n.getDate()+Number(Boolean(e))+(o+7-n.getDay()-Number(Boolean(e))))%7),n}(r):n=new Date(r)}if(t.timeSetter&&e){let s=1;for(let t=0;t<o.textContent.length;t++)if(56688===o.textContent.charCodeAt(t)){s=t+1;break}let i=o.textContent.length;if(t.dateSetter){let t=0;for(let e=0;e<o.textContent.length;e++)if(56517===o.textContent.charCodeAt(e)){t=e;break}t>=i&&(i=t)}let r=o.textContent.substring(s,i);r=r.replaceAll(" ",""),console.log(r);let l=!0;(5!==r.length||r.charAt(0).match(/[^012]/g)||"2"===r.charAt(0)&&r.charAt(1).match(/[^0123]/g)||r.charAt(1).match(/[^0123456789]/g)||":"!==r.charAt(2)||r.charAt(3).match(/[^012345]/g)||r.charAt(4).match(/[^0123456789]/g))&&(l=!1),!l&&e?(r=`${o.textContent.substring(0,s-2)}${o.textContent.substring(i+1)}`,o.innerHTML=r,t.timeSetter=!1,t.atPressed=!1):(null===n&&(n=new Date),n.setHours(r.substring(0,2),r.substring(3)))}return n}(this,this.eventDelete),console.log(n)),this.eventDelete||(this.eventDelete=!0),null!==this.item?""===t.textContent?(console.log("goodbye my very old friend "+t.textContent),o=this.item,s=!0,i=t=>{console.log(t)},function(t,e,n){console.log("delete textblock is being deleted"),t.get("0000",((o,s)=>{if(o)n(o);else{const o=s.textBlocks.filter((t=>t.id===e));let i=null;console.log("textblockArr is ",o),o.length>0&&(i=o[0],"task"===i.kind?A(i.objectReference,!1,(o=>{o?n(o):g(t,i,e,n)})):"event"===i.kind?(console.log("delteeevntbyID"),w(i.objectReference,!1,(o=>{o?(console.log(o),n(o)):g(t,i,e,n)}))):g(t,i,e,n))}})).then((t=>{console.log(t),n(null)}))}(m,o.id,(t=>{s&&f(),i(t)}))):(console.log("hello my very old friend "+t.textContent),this.item.kind=this.kind,this.item.text=t.textContent,setTimeout((()=>{!function(t,e,n,o){!function(t,e,n,o){console.log(e),t.get("0000",((s,i)=>{if(s)o(s);else{console.log(e);let s=i.textBlocks,r={};for(let t=0;t<s.length;t++)s[t].id===e.id&&(r=s[t],s[t]=e);if("task"===e.kind)if("event"===r.kind){let n=[];Array.prototype.push.apply(n,i.events),L(n.filter((t=>t.id===e.objectReference))[0],!1,(n=>{n?console.log(n):k(e.id,e.text,0,e.signifier,!1,((n,i)=>{n?(console.log(n),o(n)):(e.objectReference=i.id,y(t,s,(t=>{t&&(console.log(t),o(t))})))}))}))}else if("task"===r.kind){let n=i.tasks.filter((t=>t.id===e.objectReference))[0];n.text=e.text,console.log("task before updating it is ",n),I(n,!1,(e=>{e?(console.log(e),o(e)):(console.log("textBlockArr before updateBlock @65 is, ",s),y(t,s,(t=>{t&&(console.log(t),o(t))})))}))}else"task"!==r.kind&&k(e.id,e.text,0,e.signifier,!1,((n,i)=>{n?(console.log(n),o(n)):(e.objectReference=i.id,y(t,s,(t=>{t&&(console.log(t),o(t))})))}));else if("task"!==e.kind&&"task"===r.kind){let n=[];Array.prototype.push.apply(n,i.tasks),B(n.filter((t=>t.id===r.objectReference))[0],!1,(n=>{n?(console.log(n),o(n)):(e.objectReference=null,y(t,s,(t=>{t&&(console.log(t),o(t))})))}))}else if("event"!==e.kind&&"event"===r.kind){let n=[];Array.prototype.push.apply(n,i.events),L(n.filter((t=>t.id===e.objectReference))[0],!1,(n=>{n?(console.log(n),o(n)):(e.objectReference=null,y(t,s,(t=>{t&&(console.log(t),o(t))})))}))}else if("event"===e.kind)if("event"===r.kind){let r=[];Array.prototype.push.apply(r,i.events);let l=r.filter((t=>t.id===e.objectReference))[0];console.log("event is ",i),l.title=e.text,l.date=n,T(l,!1,(e=>{e?(console.log(e),o(e)):y(t,s,(t=>{t&&(console.log(t),o(t))}))}))}else if("task"===r.kind){let r=[];Array.prototype.push.apply(r,i.tasks),B(r.filter((t=>t.id===e.objectReference))[0],!1,(i=>{i?console.log(i):b(e.text,e.id,n,e.signifier,!1,((n,i)=>{n?(console.log(n),o(n)):(e.objectReference=i.id,y(t,s,(t=>{t&&(console.log(t),o(t))})))}))}))}else"event"!==r.kind&&b(e.text,e.id,n,e.signifier,!1,((n,i)=>{n?(console.log(n),o(n)):(e.objectReference=i.id,y(t,s,(t=>{t&&(console.log(t),o(t))})))}))}}))}(m,t,e,(t=>{n&&f(),o(t)}))}(this.item,n,!0,(t=>{console.log(t)}))}),150)):""!==t.textContent&&function(t,n,o,s,i,r,l,a,c,h,p){!function(t,n,o,s,i,r,l,a,c,h,p){t.get("0000",((u,g)=>{if(u)p(u,null);else{let u=e(),y=[];for(Array.prototype.push.apply(y,g.dailyLogs),Array.prototype.push.apply(y,g.monthlyLogs),Array.prototype.push.apply(y,g.futureLogs),Array.prototype.push.apply(y,g.collections),Array.prototype.push.apply(y,g.trackers),Array.prototype.push.apply(y,g.textBlocks),Array.prototype.push.apply(y,g.tasks),Array.prototype.push.apply(y,g.events),Array.prototype.push.apply(y,g.signifiers),Array.prototype.push.apply(y,g.imageBlocks),Array.prototype.push.apply(y,g.audioBlocks);y.filter((t=>t.id===u)).length>0;)u=e();if(d={id:u,objectType:"textBlock",tabLevel:r,parent:n,kind:l,objectReference:a,text:i,signifier:c},"task"!==l&&"event"!==l){let e=[];Array.prototype.push.apply(e,g.dailyLogs),Array.prototype.push.apply(e,g.monthlyLogs),Array.prototype.push.apply(e,g.trackers),Array.prototype.push.apply(e,g.collections);let i=e.filter((t=>t.id===n));return null===n?null===s?g.index.contents.push(u):g.index.contents.splice(s,0,u):null===s?null===o?i[0].content.push(u):"monthlyLog"===i[0].objectType?i[0].days.filter((t=>t.id===o)).content.push(u):"futureLog"===i[0].objectType&&i[0].months.filter((t=>t.id===o)).content.push(u):null===o?i[0].content.splice(s,0,u):"monthlyLog"===i[0].objectType?i[0].days.filter((t=>t.id===o)).content.splice(s,0,u):"futureLog"===i[0].objectType&&i[0].months.filter((t=>t.id===o)).content.splice(s,0,u),g.textBlocks.push(d),t.put({_id:"0000",_rev:g._rev,email:g.email,pwd:g.pwd,theme:g.theme,index:g.index,dailyLogs:g.dailyLogs,monthlyLogs:g.monthlyLogs,futureLogs:g.futureLogs,collections:g.collections,trackers:g.trackers,imageBlocks:g.imageBlocks,audioBlocks:g.audioBlocks,textBlocks:g.textBlocks,tasks:g.tasks,events:g.events,signifiers:g.signifiers}).then((t=>{console.log(t)})).catch((t=>{p(t,null)}))}"task"===l?k(u,i,0,null,!1,((e,i)=>{e?(console.log(e),p(e,null)):(d.objectReference=i.id,v(((e,i)=>{if(!e){let e=[];Array.prototype.push.apply(e,i.dailyLogs),Array.prototype.push.apply(e,i.monthlyLogs),Array.prototype.push.apply(e,i.trackers),Array.prototype.push.apply(e,i.collections);let r=e.filter((t=>t.id===n));return null===n?null===s?i.index.contents.push(u):i.index.contents.splice(s,0,u):null===s?null===o?r[0].content.push(u):"monthlyLog"===r[0].objectType?r[0].days.filter((t=>t.id===o)).content.push(u):"futureLog"===r[0].objectType&&r[0].months.filter((t=>t.id===o)).content.push(u):null===o?r[0].content.splice(s,0,u):"monthlyLog"===r[0].objectType?r[0].days.filter((t=>t.id===o)).content.splice(s,0,u):"futureLog"===r[0].objectType&&r[0].months.filter((t=>t.id===o)).content.splice(s,0,u),i.textBlocks.push(d),t.put({_id:"0000",_rev:i._rev,email:i.email,pwd:i.pwd,theme:i.theme,index:i.index,dailyLogs:i.dailyLogs,monthlyLogs:i.monthlyLogs,futureLogs:i.futureLogs,collections:i.collections,trackers:i.trackers,imageBlocks:i.imageBlocks,audioBlocks:i.audioBlocks,textBlocks:i.textBlocks,tasks:i.tasks,events:i.events,signifiers:i.signifiers}).then((t=>{console.log(t)})).catch((t=>{console.log(t),p(t,null)}))}p(e,null)})))})):"event"===l&&b(i,u,h,null,!0,((e,i)=>{e?p(e,null):(d.objectReference=i.id,v(((e,i)=>{if(!e){let e=[];Array.prototype.push.apply(e,i.dailyLogs),Array.prototype.push.apply(e,i.monthlyLogs),Array.prototype.push.apply(e,i.trackers),Array.prototype.push.apply(e,i.collections);let r=e.filter((t=>t.id===n));return null===n?null===s?i.index.contents.push(u):i.index.contents.splice(s,0,u):null===s?null===o?r[0].content.push(u):"monthlyLog"===r[0].objectType?r[0].days.filter((t=>t.id===o)).content.push(u):"futureLog"===r[0].objectType&&r[0].months.filter((t=>t.id===o)).content.push(u):null===o?r[0].content.splice(s,0,u):"monthlyLog"===r[0].objectType?r[0].days.filter((t=>t.id===o)).content.splice(s,0,u):"futureLog"===r[0].objectType&&r[0].months.filter((t=>t.id===o)).content.splice(s,0,u),i.textBlocks.push(d),t.put({_id:"0000",_rev:i._rev,email:i.email,pwd:i.pwd,theme:i.theme,index:i.index,dailyLogs:i.dailyLogs,monthlyLogs:i.monthlyLogs,futureLogs:i.futureLogs,collections:i.collections,trackers:i.trackers,imageBlocks:i.imageBlocks,audioBlocks:i.audioBlocks,textBlocks:i.textBlocks,tasks:i.tasks,events:i.events,signifiers:i.signifiers}).then((t=>{console.log(t)})).catch((t=>{console.log(t),p(t,null)}))}p(e,null)})))}))}})).then((t=>{t.ok&&(console.log(d),p(null,d))}))}(m,t,n,o,s,i,r,l,a,c,((t,e)=>{h&&f(),p(t,e)}))}(this.controller.parent.id,this.controller.subParent,this.controller.currentBlockIndex,t.textContent,this.tabLevel,this.kind,null,this.signifier.id,n,!0,((t,e)=>{t||(this.item=e),console.log(t)}))},t.addEventListener("input",(()=>{let e=t.innerHTML;if("event"===this.kind&&(e.includes("@")&&(t.innerHTML=e.replace(/(@)/g,"&#128368;  "),e=t.innerHTML,this.moveToSpot(1e6,!0)),e.includes("#")&&(t.innerHTML=e.replace(/(#)/g,"&#128197;  "),e=t.innerHTML,this.moveToSpot(1e6,!0))),this.setCurrentSpot(),this.timeSetter=!1,this.dateSetter=!1,ct(this,t.textContent,!0),"event"===this.kind){let e="";this.timeSetter?this.dateSetter||(e=`${e} use # for weekdays or dates MM/DD/YY`):(e=`${e} use @ for time HH:MM`,this.dateSetter||(e=`${e} and # for weekdays or dates MM/DD/YY`)),t.setAttribute("dateFiller",e)}"#&nbsp;"===e?this.setupHeader1():"##&nbsp;"===e?this.setupHeader2():"###&nbsp;"===e?this.setupHeader3():"-&nbsp;"===e?this.setupNote():"--&nbsp;"===e?this.setupEvent():"=-&nbsp;"===e?this.setupTask():"<div><br></div>"===e?this.removeStyles():"<br>"===e?t.innerHTML="":""!==t.textContent&&(this.controller.resetPosition=!0)})),t.onfocus=()=>{this.controller.resetPosition=!1,this.setCurrentSpot();for(let t=0;t<this.editorIcons.childNodes.length-1;t++)this.editorIcons.childNodes[t].classList.remove("unfocusedIcons"),this.editorIcons.childNodes[t].classList.add("focusedIcons");this.controller.currentBlockIndex=this.controller.blockArray.indexOf(this),this.controller.currentTabLevel=this.tabLevel,this.classList.contains("noteContainer")||this.classList.contains("eventContainer")||"none"!==this.checkBox.style.display?(this.controller.creatingFromBullet={isTrue:!0,kind:this.kind},"event"===this.kind&&t.classList.add("eventNodateFocused")):this.controller.creatingFromBullet={isTrue:!1,kind:""}},t.onkeydown=e=>{let n=e.key||e.keyCode;if("Backspace"===n||"Delete"===n){let e=this.tabLevel>0,n=20*this.tabLevel,o=this.currentPointerSpot-n==10,s=this.currentPointerSpot-n==30&&this.classList.contains("noteContainer"),i=o||s;""===t.innerHTML&&'Type "/" to create a block'===t.getAttribute("placeholder")&&this.controller.blockArray.length>1?this.controller.removeBlock():""!==t.innerHTML&&"<br>"!==t.innerHTML||0!==this.tabLevel?e&&i&&(this.tabLevel-=1,this.setupTabLevel()):this.removeStyles()}else if("Enter"===n){let n=t.innerHTML;"/h1"===n?(this.setupHeader1(),e.preventDefault()):"/h2"===n?(this.setupHeader2(),e.preventDefault()):"/h3"===n?(this.setupHeader3(),e.preventDefault()):"/note"===n?(this.setupNote(),e.preventDefault()):"/event"===n?(this.setupEvent(),e.preventDefault()):"/task"===n?(this.setupTask(),e.preventDefault()):"/futurelog"===n?(alert("New Future Log will be created"),e.preventDefault()):"/monthlylog"===n?(alert("New Monthly Log will be created"),e.preventDefault()):"/dailylog"===n?(alert("New Daily Log will be created"),e.preventDefault()):"/collection"===n?(alert("New Collection will be created"),e.preventDefault()):"/tracker"===n?(x("Practice Tracker",[],Lt.id,((t,e)=>{t?console.log(t):console.log(e)})),e.preventDefault()):(this.controller.resetPosition=!1,this.controller.addNewBlock(),e.preventDefault())}else if("ArrowDown"===n){let e=t.classList.contains("header1")?80:t.classList.contains("header2")?57:"note"===this.kind||"event"===this.kind||"task"===this.kind?47:42;this.currentPointerHeight>t.offsetHeight-e&&this.controller.moveToNextBlock()}else if("ArrowUp"===n){let e=t.classList.contains("header1")?50:t.classList.contains("header2")?36:28;this.currentPointerHeight<e+this.initialHeight&&this.controller.moveToPreviousBlock()}else if("Tab"===n)this.tabLevel+=1,this.setupTabLevel(),e.preventDefault();else if("@"===n&&"event"===this.kind)if(this.atPressed)e.stopPropagation(),e.preventDefault();else{this.eventDelete=!1,this.atPressed=!0,this.timeSetter=!0;let e="";this.timeSetter?this.dateSetter||(e=`${e} use # for weekdays or dates MM/DD/YY`):(e=`${e} use @ for time HH:MM`,this.dateSetter||(e=`${e} and # for weekdays or dates MM/DD/YY`)),t.setAttribute("dateFiller",e)}else if("#"===n&&"event"===this.kind)if(this.hashPressed)e.stopPropagation(),e.preventDefault();else{this.eventDelete=!1,this.hashPressed=!0,this.dateSetter=!0;let e="";this.timeSetter?this.dateSetter||(e=`${e} use # for weekdays or dates MM/DD/YY`):(e=`${e} use @ for time HH:MM`,this.dateSetter||(e=`${e} and # for weekdays or dates MM/DD/YY`)),t.setAttribute("dateFiller",e)}else(this.atPressed&&"event"===this.kind&&n.match(/[^0123456789:]/g)&&!lt.includes(n)||this.hashPressed&&"event"===this.kind&&n.match(/[.:"'=,`~|[{}]/g)&&!lt.includes(n))&&(e.stopPropagation(),e.preventDefault())},t.onkeyup=t=>{let e=t.key||t.keyCode;"ArrowRight"!==e&&"ArrowLeft"!==e&&"ArrowDown"!==e&&"ArrowUp"!==e||(this.setCurrentSpot(),"ArrowRight"!==e&&"ArrowLeft"!==e||(this.controller.resetPosition=!0))}}}window.customElements.define("text-block",ht);class pt extends Object{constructor(t,e,n){super(),this.blockArray=[],this.creatingFromBullet={isTrue:!1,kind:""},this.currentTabLevel=0,this.resetPosition=!0,this.currentBlockIndex=0,this.container=t,this.parent=e,this.subParent=n}createNewBlock(t,e,n){let o=new ht(this,t,e,(t=>{t&&(this.currentBlockIndex<this.blockArray.length-1?(this.container.insertBefore(o,this.blockArray[this.currentBlockIndex+1]),this.blockArray.splice(this.currentBlockIndex+1,0,o),this.currentBlockIndex+=1):(this.container.appendChild(o),this.blockArray.push(o),this.currentBlockIndex=this.blockArray.length-1),o.focus(),n(o))}))}addNewBlock(t){let e=new ht(this,t,this.generalSignifier,(t=>{t&&(this.currentBlockIndex<this.blockArray.length-1?(this.container.insertBefore(e,this.blockArray[this.currentBlockIndex+1]),this.blockArray.splice(this.currentBlockIndex+1,0,e),this.currentBlockIndex+=1):(this.container.appendChild(e),this.blockArray.push(e),this.currentBlockIndex=this.blockArray.length-1),e.focus())}))}moveToNextBlock(){let t=this.blockArray[this.currentBlockIndex];this.currentBlockIndex<this.blockArray.length-1&&this.blockArray[this.currentBlockIndex+1].moveToSpot(t.currentPointerSpot,!1)}moveToPreviousBlock(){let t=this.blockArray[this.currentBlockIndex];this.currentBlockIndex>0&&this.blockArray[this.currentBlockIndex-1].moveToSpot(t.currentPointerSpot,!0)}removeBlock(){let t=this.blockArray[this.currentBlockIndex];this.blockArray.splice(this.currentBlockIndex,1),this.currentBlockIndex=0===this.currentBlockIndex?this.currentBlockIndex:this.currentBlockIndex-1,console.log(this.currentBlockIndex);let e=this.blockArray[this.currentBlockIndex];console.log(e),e.moveToSpot(1e5,!1),this.container.removeChild(t)}}function ut(t,e,n,o,s){if(n<e.length){let i=o.filter((t=>t.id===e[n].signifier))[0];t.createNewBlock(e[n],i,(o=>{o.tabLevel=e[n].tabLevel,o.setupTabLevel(),"note"===e[n].kind?(o.setupNote(),o.item=e[n],o.shadowRoot.getElementById("textBlock").innerText=e[n].text,ut(t,e,n+1,(t=>{s(t)}))):"event"===e[n].kind?(o.setupEvent(),o.item=e[n],o.shadowRoot.getElementById("textBlock").innerText=e[n].text,ut(t,e,n+1,(t=>{s(t)}))):"task"===e[n].kind?(console.log(e[n]),o.setupTask(),v(((i,r)=>{if(null===i){let i=r.tasks.filter((t=>t.id===e[n].objectReference))[0];console.log(i),1===i.complete&&(o.checkBox.setAttribute("checked","checked"),o.shadowRoot.getElementById("textBlock").classList.add("crossed")),o.item=e[n],o.shadowRoot.getElementById("textBlock").innerText=e[n].text,ut(t,e,n+1,(t=>{s(t)}))}else console.log(i)}))):"h1"===e[n].kind?(o.setupHeader1(),o.item=e[n],o.shadowRoot.getElementById("textBlock").innerText=e[n].text,ut(t,e,n+1,(t=>{s(t)}))):"h2"===e[n].kind?(o.setupHeader2(),o.item=e[n],o.shadowRoot.getElementById("textBlock").innerText=e[n].text,ut(t,e,n+1,(t=>{s(t)}))):"h3"===e[n].kind?(o.setupHeader3(),o.item=e[n],o.shadowRoot.getElementById("textBlock").innerText=e[n].text,ut(t,e,n+1,(t=>{s(t)}))):(o.item=e[n],o.shadowRoot.getElementById("textBlock").innerText=e[n].text,ut(t,e,n+1,(t=>{s(t)})))}))}else s("done populating items")}function gt(t,e,n,o){ut(t,e,0,n,(t=>{o(t)}))}function yt(t,e,n,o){let s=new pt(t,e,n);setTimeout((()=>{let i=null,r=[];v(((l,a)=>{if(l)o(l);else{let l=[];Array.prototype.push.apply(l,a.dailyLogs),Array.prototype.push.apply(l,a.monthlyLogs),Array.prototype.push.apply(l,a.futureLogs),Array.prototype.push.apply(l,a.collections),Array.prototype.push.apply(l,a.trackers);let c=a.signifiers.filter((t=>"general"===t.meaning))[0];if(s.generalSignifier=c,null===e||"dailyLog"!==e.objectType&&"collection"!==e.objectType){let e=new ht(s,null,c,(n=>{n?(t.appendChild(e),s.blockArray.push(e),s.currentBlockIndex=s.blockArray.length-1,e.removeStyles(),e.focus(),console.log("newblock created successfully")):console.log("newBlock not being created"),o(s)}))}else{let d=l.filter((t=>t.id===e.id));if(d.length>0){i=d[0];let e=a.textBlocks;if(null===n)for(let t=0;t<i.content.length;t++)Array.prototype.push.apply(r,e.filter((e=>e.id===i.content[t])));else if("monthlyLog"===i.objectType){let t=i.days.filter((t=>t.id===n));for(let n=0;n<t.content.length;n++)Array.prototype.push.apply(r,e.filter((e=>e.id===t.content[n])))}else if("futureLog"===i.objectType){let t=i.months.filter((t=>t.id===n));for(let n=0;n<t.content.length;n++)Array.prototype.push.apply(r,e.filter((e=>e.id===t.content[n])))}gt(s,r,a.signifiers,(e=>{if("done populating items"===e){let e=new ht(s,null,c,(n=>{n&&(t.appendChild(e),s.blockArray.push(e),s.currentBlockIndex=s.blockArray.length-1,e.removeStyles(),e.focus()),o(s)}))}}))}}}}))}),80)}class mt extends HTMLElement{constructor(t,e,n,o){super();let s=document.createElement("template");s.innerHTML='\n\t\t\t<style>\n\t\t\t\t#container{\n\t\t\t\t\theigt: 35px;\n\t\t\t\t}\n\n\t\t\t\t#title{\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tborder-bottom: 2px solid rgba(255,255,255,0.4);\n\t\t\t\t\ttransition: 0.2s;\n\t\t\t\t\tfont-size: 18px;\n\t\t\t\t\tline-height: 28px;\n\t\t\t\t\tmargin: 7px 0 12px;\n\t\t\t\t\tvertical-align: top;\n\t\t\t\t}\n\t\n\t\t\t\t#title:hover{\n\t\t\t\t\tborder-bottom: 2px solid rgba(255,255,255,0.9);\n\t\t\t\t\ttransition: 0.2s;\n\t\t\t\t}\n\n\t\t\t\t#editorIcons{\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tdisplay: inline;\n\t\t\t\t\tvertical-align: top;\n\t\t\t\t\ttop: 10px;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t#editorIcons img{\n\t\t\t\t\tmargin-right: 7px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\tfilter: var(--icon-filter);\n\t\t\t\t}\n\n\t\t\t\t@media screen and (max-width: 700px) {\n\t\t\t\t\t.plus{\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</style>\n\t\t\t<div id="container">\n\t\t\t\t<div id="editorIcons" class="paragraphIcons"><img src="../public/resources/plusIcon.png" class="unfocusedIcons"/><img src="../public/resources/sixDotIcon.png" class="unfocusedIcons"/></div>\n\t\t\t\t<div id="title">Test</div>\n\t\t\t</div>\n\t\t',this.parent=e,this.item=n,this.trackerMenu=o,this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(s.content.cloneNode(!0)),this.trackerButton=this.shadowRoot.querySelector(".plus"),this.plusButton=this.shadowRoot.querySelector("#editorIcons img"),this.plusButton=this.shadowRoot.querySelector("#editorIcons img + img"),this.titleSpan=this.shadowRoot.getElementById("title"),this.titleSpan.innerHTML=t}connectedCallback(){this.plusButton.onclick=()=>{this.createTracker()},this.titleSpan.onclick=()=>{this.trackerMenu.clear(),this.trackerMenu.title=this.titleSpan.innerHTML,this.trackerMenu.isInsideTracker=!0,yt(this.trackerMenu.shadowRoot.getElementById("editor"),this.item,null,(t=>{t||console.log("Error loading tracker")}))}}createTracker(){x(this.title.innerHTML,[],this.parent,!0,((t,e)=>{t?console.log(t):console.log(e)}))}}window.customElements.define("tracker-block",mt);class ft extends HTMLElement{static get observedAttributes(){return["open"]}constructor(t){super(),this.attachShadow({mode:"open"}),this.close=this.close.bind(this),this.clear=this.clear.bind(this),this.shadowRoot.innerHTML='\n        <style>\n\t\t\t@font-face {\n\t\t\t\tfont-family:"SF-Pro";\n\t\t\t\tsrc: url("./public/fonts/SF-Pro.ttf");\n\t\t\t}\n\n\t\t\ttext-block {\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t}\n\n\t\t\ttracker-block{\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t}\n\n\t\t\tcreator-block{\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin: 0;\n\t\t\t\tpadding: 0;\n\t\t\t\twidth: 100%;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t}\n\t\t\t\n\t\t\t.noteContainer {\n\t\t\t\tmargin-top: 7px;\n\t\t\t\tmargin-bottom: 7px;\n\t\t\t\tmargin-left: 87px;\n\t\t\t\tdisplay: list-item;\n\t\t\t\tlist-style-type: disc;\n\t\t\t\tlist-style-position: outside;\n\t\t\t}\n\t\t\t\n\t\t\t.eventContainer {\n\t\t\t\tmargin-top: 7px;\n\t\t\t\tmargin-bottom: 7px;\n\t\t\t\tmargin-left: 87px;\n\t\t\t\tdisplay: list-item;\n\t\t\t\tlist-style-type: circle;\n\t\t\t\tlist-style-position: outside;\n\t\t\t}\n\n            .wrapper {\n                display: flex;\n                flex-direction: column;\n                position: fixed;\n                top: 0;\n                right: 0;\n                z-index: 5;\n                width: 40%;\n                min-width: 40ch;\n                height: 100vh;\n                background-color: var(--tracker-background-color); /* #2B2D42 */\n                color: var(--tracker-foreground-color);\n                font-family: "SF-Pro";\n                transition: transform .4s ease-in-out\n            }\n\n            .wrapper.closed {\n                transform: translate3d(100%, 0, 0);\n            }\n                        \n            .wrapper.open {\n                transform: translate3d(0, 0, 0);\n            }\n\n            .tracker_header {\n                display: flex;\n                justify-content: flex-start;\n\n                margin: 0 20px;\n                padding: 0 20px;\n                height: 75px;\n                border-bottom: 2px solid var(--tracker-border-color); /*rgba(157, 148, 241, 0.7);*/\n            }\n            \n            .tracker_header h1 {\n                text-align: center;\n                flex: 1;\n                font-size: 24pt;\n            }\n\n            button {\n                margin: 0;\n                border: none;\n                background-color: rgba(0,0,0,0);\n            }\n\n            .close_button img {\n                filter: invert();\n                opacity: 50%;\n\t\t\t\twidth: 15px;\n\t\t\t\tcursor: pointer;\n            }\n            \n            .close_button:hover img {\n                opacity: 100%;\n            }\n\n            .tracker_menu {\n                overflow-y: auto;\n            }\n            \n            #editor {\n                margin: 20px 20px 0px;\n            }\n\n            @media screen and (max-width: 900px) {\n                .wrapper{\n                    width: 100%;\n                }\n            }\n            </style>\n\n        <div class="wrapper closed">\n            <div class="tracker_header">\n                    <button class="close_button"> <img src="../public/resources/right-chevron.png"> </button>\n                    <h1 class="tracker_h1">Future Log Tracker</h1>\n            </div>\n\n            <div class="tracker_menu"><div id="editor"></div></div>\n        </div>\n        ',this.title=t,this.closeButton=this.shadowRoot.querySelector(".close_button"),this.editor=this.shadowRoot.getElementById("editor"),this.isInsideTracker=!1}attributeChangedCallback(t,e,n){e!==n&&(this[t]=this.hasAttribute(t))}connectedCallback(){this.closeButton.addEventListener("click",(()=>{if(this.isInsideTracker){this.isInsideTracker=!1,this.clear();let t=this.shadowRoot.getElementById("editor");v(((e,n)=>{if(e)console.log(e);else{let e=n.trackers,o=[];for(let t=0;t<Lt.trackers.length;t++)console.log("hello"),o.push(e.filter((e=>e.id===Lt.trackers[t]))[0]);console.log(o),setTimeout((()=>{for(let e=0;e<o.length;e++){let n=o[e],s=new mt(n.title,Lt.id,n,this);t.appendChild(s)}t.appendChild(new F)}),10)}})),"futureLog"===Lt.objectType?this.title="Future Log Trackers":"monthlyLog"===Lt.objectType?this.title="Monthly Log Trackers":this.title="Daily Log Trackers"}else this.close()}))}toggle(){this.open=!this.open}get open(){return this.hasAttribute("open")}set open(t){this.shadowRoot.querySelector(".wrapper").classList.toggle("open",t),this.shadowRoot.querySelector(".wrapper").classList.toggle("closed",!t),this.shadowRoot.querySelector(".wrapper").setAttribute("aria-hidden",!t),t?(this.setAttribute("open","true"),this.focus()):this.removeAttribute("open")}get title(){return this.shadowRoot.querySelector(".tracker_header h1").innerText}set title(t){this.shadowRoot.querySelector(".tracker_header h1").innerText=t}close(){this.open=!1}clear(){for(;this.editor.childNodes.length>0;)this.editor.childNodes[0].remove()}}window.customElements.define("tracker-menu",ft),document.querySelector("body").style.display="none";let bt=new O,kt=new J,xt="",vt=1,Lt={},wt=document.getElementById("contentWrapper");function Bt(t){let e="",n=null;null!==t&&(e=t.split("~")),console.log(void 0!==e),void 0!==e&&(n=e[1]),v(((t,e)=>{if(t)window.location.href="http://localhost:8080/login";else if(null==n)Lt=e.index;else{let t=[];Array.prototype.push.apply(t,e.dailyLogs),Array.prototype.push.apply(t,e.monthlyLogs),Array.prototype.push.apply(t,e.futureLogs),Array.prototype.push.apply(t,e.collections);let o=t.filter((t=>t.id===n));Lt=o[0]}}))}function At(t){v(((t,e)=>{if(t)console.log(t);else{console.log(e.futureLogs);let t=[];Array.prototype.push.apply(t,e.futureLogs),Array.prototype.push.apply(t,e.collections);let n=[];console.log(Lt);for(let e=0;e<Lt.contents.length;e++)Array.prototype.push.apply(n,t.filter((t=>t.id===Lt.contents[e])));let o=["January","February","March","April","May","June","July","August","September","October","November","December"];for(let t=0;t<n.length;t++)if(console.log("inside for loop"),"futureLog"===n[t].objectType){console.log("inside if stmt");let s=new Date(n[t].startDate),i=new Date(n[t].endDate),r=new R(`Future Log ${o[s.getMonth()]} ${s.getFullYear()} - ${o[i.getMonth()]} ${i.getFullYear()}`,n[t],1);wt.appendChild(r),t>0&&r.titleWrapper.classList.add("singleItemWrapper");for(let s=0;s<n[t].months.length;s++){let i=e.monthlyLogs.filter((e=>e.id===n[t].months[s].monthlyLog))[0],l=new R(`${o[new Date(i.date).getMonth()]} ${new Date(i.date).getFullYear()}`,i,2);r.contentWrapper.appendChild(l);for(let t=0;t<i.days.length;t++){let n=e.dailyLogs.filter((e=>e.id===i.days[t].dailyLog))[0],s=new R(`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(n.date).getDay()]}, ${o[new Date(n.date).getMonth()]} ${new Date(n.date).getUTCDate()}`,n,3);l.contentWrapper.appendChild(s)}}}wt.appendChild(new F)}})),console.log("we are here"),kt.title="Index",xt="/",vt=1;for(let e=0;e<t.length;e++)t[e].removeAttribute("disabled"),t[e].style.visibility="visible";document.getElementById("targetMenu").style.display="none",bt.target.setAttribute("disabled","disabled"),bt.target.style.visibility="hidden",bt.single.setAttribute("disabled","disabled"),bt.single.style.visibility="hidden",bt.double.setAttribute("disabled","disabled"),bt.double.style.visibility="hidden",bt.singleMenu.setAttribute("disabled","disabled"),bt.singleMenu.style.visibility="hidden",bt.doubleMenu.setAttribute("disabled","disabled"),bt.doubleMenu.style.visibility="hidden";let e=kt.imgbuttons;for(let t=0;t<e.length;t++)e[t].classList.contains("plus")||e[t].classList.add("hide")}function Tt(t,e){v(((t,e)=>{if(t)console.log(t);else{let t=e.monthlyLogs;console.log(Lt);let n=[];for(let e=0;e<Lt.months.length;e++)Array.prototype.push.apply(n,t.filter((t=>t.id===Lt.months[e].monthlyLog)));let o=["January","February","March","April","May","June","July","August","September","October","November","December"];for(let t=0;t<n.length;t++){let s=n[t],i=new R(`${o[new Date(s.date).getMonth()]} ${new Date(s.date).getFullYear()}`,s,1);wt.appendChild(i),t>0&&i.titleWrapper.classList.add("singleItemWrapper");for(let t=0;t<s.days.length;t++){let n=e.dailyLogs.filter((e=>e.id===s.days[t].dailyLog))[0],r=new R(`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(n.date).getDay()]}, ${o[new Date(n.date).getMonth()]} ${new Date(n.date).getUTCDate()}`,n,2);i.contentWrapper.appendChild(r)}}wt.appendChild(new F)}})),document.getElementById("targetMenu").style.display="block";let n=new Date(Lt.startDate),o=new Date(Lt.endDate);kt.title=o.getFullYear()===n.getFullYear()?`Future Log ${n.getFullYear()}`:`Future Log ${n.getFullYear()} - ${o.getFullYear()}`,vt=4,xt=e;for(let e=0;e<t.length;e++)t[e].removeAttribute("disabled"),t[e].style.visibility="visible";bt.single.setAttribute("disabled","disabled"),bt.single.style.visibility="hidden",bt.double.setAttribute("disabled","disabled"),bt.double.style.visibility="hidden",bt.singleMenu.setAttribute("disabled","disabled"),bt.singleMenu.style.visibility="hidden",bt.doubleMenu.setAttribute("disabled","disabled"),bt.doubleMenu.style.visibility="hidden";let s=kt.imgbuttons;for(let t=0;t<s.length;t++)s[t].classList.remove("hide");let i=new ft("Future Log Trackers");document.getElementById("trackerWrapper").appendChild(i);let r=i.shadowRoot.getElementById("editor");v(((t,e)=>{if(t)console.log(t);else{let t=e.trackers,n=[];for(let e=0;e<Lt.trackers.length;e++)n.push(t.filter((t=>t.id===Lt.trackers[e]))[0]);console.log(n),setTimeout((()=>{for(let t=0;t<n.length;t++){let e=n[t],o=new mt(e.title,Lt.id,e,i);r.appendChild(o)}r.appendChild(new F)}),10)}}))}function It(t,e){v(((t,e)=>{if(t)console.log(t);else{let t=e.dailyLogs,n=[];for(let e=0;e<Lt.days.length;e++)Array.prototype.push.apply(n,t.filter((t=>t.id===Lt.days[e].dailyLog)));let o=["January","February","March","April","May","June","July","August","September","October","November","December"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];for(let t=0;t<Lt.days.length;t++){let e=n[t],i=new R(`${s[new Date(e.date).getDay()]}, ${o[new Date(e.date).getMonth()]} ${new Date(e.date).getUTCDate()}`,e,1);wt.appendChild(i),t>0&&i.titleWrapper.classList.add("singleItemWrapper")}wt.appendChild(new F)}})),kt.title=`${["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(Lt.date).getMonth()]} ${new Date(Lt.date).getFullYear()}`,vt=3,xt=e;for(let e=0;e<t.length;e++)t[e].removeAttribute("disabled"),t[e].style.visibility="visible";document.getElementById("targetMenu").style.display="block",bt.double.setAttribute("disabled","disabled"),bt.double.style.visibility="hidden",bt.doubleMenu.setAttribute("disabled","disabled"),bt.doubleMenu.style.visibility="hidden";let n=kt.imgbuttons;for(let t=0;t<n.length;t++)n[t].classList.remove("hide");let o=new ft("Monthly Log Trackers");document.getElementById("trackerWrapper").appendChild(o);let s=o.shadowRoot.getElementById("editor");v(((t,e)=>{if(t)console.log(t);else{let t=e.trackers,n=[];for(let e=0;e<Lt.trackers.length;e++)n.push(t.filter((t=>t.id===Lt.trackers[e]))[0]);setTimeout((()=>{for(let t=0;t<n.length;t++){let e=n[t],i=new mt(e.title,Lt.id,e,o);s.appendChild(i)}s.appendChild(new F)}),10)}}))}function St(t,e){kt.title=`${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(Lt.date).getDay()]} ${["January","February","March","April","May","June","July","August","September","October","November","December"][new Date(Lt.date).getMonth()]} ${new Date(Lt.date).getUTCDate()}, ${new Date(Lt.date).getFullYear()}`,vt=2,xt=e;for(let e=0;e<t.length;e++)t[e].removeAttribute("disabled"),t[e].style.visibility="visible";yt(wt,Lt,null,(t=>{console.log(t)})),document.getElementById("targetMenu").style.display="block";let n=kt.imgbuttons;for(let t=0;t<n.length;t++)n[t].classList.remove("hide");let o=new ft("Daily Log Trackers");document.getElementById("trackerWrapper").appendChild(o);let s=o.shadowRoot.getElementById("editor");v(((t,e)=>{if(t)console.log(t);else{let t=e.trackers,n=[];for(let e=0;e<Lt.trackers.length;e++)console.log("hello"),n.push(t.filter((t=>t.id===Lt.trackers[e]))[0]);console.log(n),setTimeout((()=>{for(let t=0;t<n.length;t++){let e=n[t],o=new mt(e.title,Lt.id,1);s.appendChild(o)}yt(s,null,null,(t=>{console.log(t)}))}),10)}}))}document.getElementById("topbar").appendChild(kt),document.getElementById("sidebar").appendChild(bt),document.getElementById("targetMenu").onclick=()=>{bt.toggleTracker()},E.setState(document.location.hash,!1),window.onpopstate=()=>{E.setState(document.location.hash,!0)}})();